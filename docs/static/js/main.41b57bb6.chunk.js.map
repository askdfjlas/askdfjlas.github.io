{"version":3,"sources":["Utils.js","Header/HeaderUtils.js","Api/UserAuthApi.js","Header/HeaderState.js","Header/RegisterForm.js","Header/LoginForm.js","Header/UserMenu.js","Header/HeaderAuth.js","Header/Header.js","TextEditor/Caret.js","TextEditor/ContentType.js","TextEditor/Toolbar.js","TextEditor/MaskManager.js","TextEditor/VirtualTextEditor.js","TextEditor/Block/MathBlock.js","TextEditor/Block/Block.js","TextEditor/TextEditorContent.js","TextEditor/registerEventHandlers.js","TextEditor/TextEditor.js","Home/CpNotes.js","Home/Home.js","UserProfile/UserInfo.js","SearchSelect/SearchSelect.js","Api/ApiConstants.js","Api/Api.js","Enum/SolvedState.js","Api/ProblemsApi.js","UserProfile/AddProblemForm.js","Api/NotesApi.js","UserProfile/UserNoteInfo.js","UserProfile/UserContestInfo.js","UserProfile/UserNotesTitleDropdown.js","Paginator/VirtualPaginator.js","Paginator/Paginator.js","UserProfile/UserNotesList.js","UserProfile/UserNotes.js","Api/UserApi.js","Enum/LoadState.js","UserProfile/UserProfile.js","EditNote/DeleteMenu.js","EditNote/EditNoteForm.js","EditNote/ProblemInfo.js","EditNote/EditNote.js","Api/LikesApi.js","Misc/LikeDislike.js","PublicNote/PublicNoteInfo.js","PublicNote/PublicNote.js","App.js","serviceWorker.js","index.js"],"names":["Utils","component","stateObject","Promise","resolve","reject","mounted","setState","object","property","hasOwnProperty","message","setError","setStatePromise","error","setSuccess","success","selectors","window","MathJax","typeset","HeaderUtils","password","confirmPassword","componentSetError","length","UserAuthApi","Auth","currentAuthenticatedUser","username","email","signUp","attributes","info","codeDeliveryDetails","Destination","code","confirmSignUp","resendSignUp","CodeDeliveryDetails","forgotPassword","forgotPasswordSubmit","signIn","signOut","getProfile","profile","currentSession","getSignInUserSession","accessToken","getAccessToken","getJwtToken","HeaderState","Object","freeze","LOGIN","RECOVERY_USERNAME","RECOVERY_PASSWORD","RECOVERY_SUCCESS","REGISTER","REGISTER_VERIFY","REGISTER_SUCCESS","ERROR_TRIGGER_PREFIX","RegisterForm","props","screen","unverifiedAccountUsername","state","destination","unverifiedAccountDestination","close","bind","register","verifyEmail","resendVerificationEmail","this","exitCallback","startsWith","substring","event","preventDefault","form","target","value","checkPasswords","componentSetSuccess","currentForm","createAccountForm","className","onSubmit","htmlFor","autoComplete","type","name","id","verifyEmailForm","key","onClick","emailVerifiedBox","Component","LoginForm","login","enablePasswordRecovery","resetPassword","emailVerificationCallback","componentsSetError","loginForm","recoveryUsernameForm","recoveryPasswordForm","recoveryPasswordSuccess","UserMenu","logout","logoutCallback","closeCallback","to","HeaderAuth","showRegisterForm","showLoginForm","showUserMenu","refreshUsername","toggleRegisterForm","toggleLoginForm","toggleUserMenu","hideUserMenu","afterLogin","unverifiedAccount","suggestUserRegister","getUsername","focusedElement","relatedTarget","classList","contains","loggedIn","loginButtons","loggedInButton","tabIndex","onBlur","topRightButtons","Header","path","useLocation","pathname","small","outerClassName","Caret","a","b","c","d","selection","getSelection","anchorElement","anchorNode","parentElement","focusElement","focusNode","anchorIndex","Number","getAttribute","focusIndex","anchorOffset","focusOffset","rangeSelect","index","position","leftIndex","leftPosition","rightIndex","rightPosition","blockElement","document","getElementById","textNode","childNodes","createTextNode","appendChild","range","createRange","setStart","collapse","removeAllRanges","addRange","leftBlockElement","rightBlockElement","leftTextNode","rightTextNode","setEnd","ContentType","MATH","BOLD","ITALIC","UNDERLINE","Toolbar","boldSelected","mask","italicSelected","underlineSelected","mathSelected","callback","MaskManager","bit","on","originalMask","countCharacters","str","counter","character","VirtualTextEditor","initialContent","characters","globalCaretPosition","block","m","char","push","splice","updateBlocks","globalIndex","charactersScanned","i","blocks","blockLength","blockEndIndex","j","blockStarts","characterCounter","getGlobalIndex","insertedString","rightBuffer","getIndexAndPosition","globalLeftIndex","deleteLength","globalRightIndex","editorMergeBit","newLeftIndex","newLeftPosition","currentMask","characterBuffer","forEach","join","String","fromCharCode","MathBlock","rendered","content","getClassName","style","Block","editorId","editorMask","selected","TextEditorContent","editable","caretInfo","handleBlur","contentElements","editorSelected","contentEditable","suppressContentEditableWarning","spellCheck","registerEventHandlers","that","textEditor","addEventListener","composing","delete","insert","isComposing","inputType","dataTransfer","getData","data","pasteText","clipboardData","compositionIndex","compositionPosition","previousBlockElement","setAttribute","nextBlockElement","compositionDiv","createElement","insertBefore","removeChild","compositionInsert","handleSelectionChange","selectionChanged","TextEditor","uniqueKey","virtualTextEditor","caret","contentChanged","getContent","toolbarUpdate","updateText","newString","updateCaretInfo","rangeMaskUpdate","newMask","focus","newToolbarMask","toolbarMergeBit","updateMask","newCaretInfo","getInfo","maxCaretIndex","badCaretRange","setRangePosition","setPosition","leftCharacterMask","getCharacterMask","junkNodes","node","nodeType","Node","TEXT_NODE","nodeName","childElement","children","innerHTML","nodeValue","onChange","removeEventListener","forceUpdate","CpNotes","renderMathJax","Home","UserInfo","SearchSelect","loading","searchTerm","previousValidSearchTerm","showOptions","options","filteredOptions","handleChange","handleFocus","handleOptionSelect","option","optionStringArray","keys","toLowerCase","getOptionString","includes","prevProps","staticKey","search","filterOptions","sortKey","optionString","optionElements","displayString","displayKey","onFocus","disabled","ApiConstants","API_ENDPOINT","Api","err","Error","response","status","json","responseJson","createApiError","resource","method","fetch","body","JSON","stringify","headers","Authorization","manageResponseError","queryString","sendRequestBody","SolvedState","SOLVED","text","css","UPSOLVED","UPSOLVED_HELP","UNSOLVED","ProblemsApi","problems","prettySk","sk","replaceAll","platform","getJson","contestId","_prettifyProblems","problemId","solvedStateValue","parseInt","AddProblemForm","contestSortKey","problemSortKey","skipContestSearch","handlePlatformChange","toggleSkipContestSearch","updateProblemSortKey","updateContestSortKey","addProblem","searchContestFunction","searchContestKey","getContests","searchProblemFunction","searchProblemKey","getProblems","skipButtonText","defaultValue","NotesApi","forcePublished","postJson","title","solved","published","putJson","deleteJson","UserNoteInfo","solvedClass","getSolvedStateCssClass","problemUrl","problemSk","replace","publishedClass","timestamp","Date","editedTime","toLocaleDateString","authorUsername","loggedInUsername","problemCode","problemName","UserContestInfo","noteElements","notes","note","split","codeClassName","contestName","UserNotesTitleDropdown","innerContent","showing","toggleCallback","showText","VirtualPaginator","pageSize","setContent","activeItems","item","paginatorActive","indices","active","pageIndex","currentIndex","activeBufferSize","itemBuffer","pageCount","bufferSize","Paginator","currentPage","totalPages","pageIndices","after","increment","before","sort","paginatorButtons","buttonClassName","RecursionLevel","CONTEST","PLATFORM","compareByRecent","note1","note2","groupByAttributes","objectList","attributeGroups","obj","attributeValues","attribute","UserNotesList","page","sortNoteItems","virtualPaginator","sortedNoteItems","updatePage","firstNote","contestObject","contestCode","organizeBySolved","organizeByPlatform","recursionLevel","keyString","paginatorIndices","organizeByContest","contestGroups","createContestObject","organize","attributeString","dropdownShowing","dropdownIndices","sortByRecent","groups","innerKeyString","innerIndices","noteInfoElements","NoteComponent","renderNoteItems","getSolvedStateText","toggleActiveItems","getPageCount","nextProps","nextState","importantProps","currentImportantProps","map","x","nextImportantProps","noteItems","paginator","UserNotes","showAddProblemForm","toggleAddProblemForm","toggleOrganizeBySolved","toggleOrganizeByPlatform","toggleOrganizeByContest","toggleSortByRecent","formComponent","userInfo","addNote","history","UserApi","LoadState","LOADING","DONE","NOT_FOUND","UserProfile","match","params","getUserInfo","getNotes","loadInfo","loadedContent","userNotFoundContent","DeleteMenu","randomCode","uuidv4","deleteNote","confirmCode","problemInfo","remindUserToSave","returnValue","EditNoteForm","noteInfo","parse","lastSaved","disableEditButtons","saved","loadingSave","loadingPublish","showDeleteMenu","saveNote","togglePublishNote","toggleDeleteMenu","handleTitleChange","handleSolvedChange","handleContentChange","editNote","onbeforeunload","saveOrPublishNote","newContent","savedText","toLocaleString","togglePublishText","saveButtonClass","publishButtonClass","when","placeholder","ProblemInfo","href","link","EditNote","getProblemInfo","getNoteInfo","loadProblemInfo","loadNoteInfo","noteNotFoundContent","LikesApi","noteAuthor","likedStatus","LikeDislike","initialScore","initialStatus","likeCallback","useState","score","setScore","setStatus","likeButtonClass","toggleStatus","PublicNoteInfo","editedTimestamp","sendLike","likeCount","PublicNote","ownerUsername","App","exact","Boolean","location","hostname","Amplify","configure","amplify_config","add","keyCode","remove","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.41b57bb6.chunk.js","sourcesContent":["class Utils {\n  static async setStatePromise(component, stateObject) {\n    return new Promise((resolve, reject) => {\n      if(component.mounted !== false) {\n        component.setState(stateObject, () => {\n          resolve();\n        });\n      }\n      resolve();\n    });\n  }\n\n  static isEmpty(object) {\n    for(const property in object) {\n      if(object.hasOwnProperty(property))\n        return false;\n    }\n    return true;\n  }\n\n  static async componentSetError(component, message) {\n    if(component.setError) {\n      await component.setError(message);\n    }\n    else {\n      await Utils.setStatePromise(component, {\n        error: `Error: ${message}`\n      });\n    }\n  }\n\n  static async componentSetSuccess(component, message) {\n    if(component.setSuccess) {\n      await component.setSuccess(message);\n    }\n    else {\n      await Utils.setStatePromise(component, {\n        error: '',\n        success: message\n      });\n    }\n  }\n\n  static renderMathJax(selectors) {\n    if(window.MathJax) {\n      window.MathJax.typeset(selectors);\n    }\n  }\n}\n\nexport default Utils;\n","import Utils from '../Utils';\n\nconst MIN_PASSWORD_LENGTH = 6;\n\nclass HeaderUtils {\n  static async checkPasswords(component, password, confirmPassword) {\n    if(password !== confirmPassword) {\n      await Utils.componentSetError(component, \"Your passwords don't match!\");\n      return false;\n    }\n\n    if(password.length < MIN_PASSWORD_LENGTH) {\n      await Utils.componentSetError(component, 'Your password is too short!');\n      return false;\n    }\n\n    return true;\n  }\n}\n\nexport default HeaderUtils;\n","import { Auth } from 'aws-amplify';\n\nclass UserAuthApi {\n  static async getProfile() {\n    try {\n      return await Auth.currentAuthenticatedUser();\n    }\n    catch(err) {\n      // currentAuthenticatedUser() throws this error if the user is not logged in\n      return null;\n    }\n  }\n\n  static async register(username, email, password) {\n    const info = await Auth.signUp({\n      username,\n      password,\n      attributes: {\n        email: email\n      }\n    });\n\n    // I like how Amplify makes this one inconsistently lowercase... lol\n    return info.codeDeliveryDetails.Destination;\n  }\n\n  static async verifyEmail(username, code) {\n    await Auth.confirmSignUp(username, code);\n  }\n\n  static async resendVerificationEmail(username) {\n    const info = await Auth.resendSignUp(username);\n    return info.CodeDeliveryDetails.Destination;\n  }\n\n  static async forgotPassword(username) {\n    const info = await Auth.forgotPassword(username);\n    return info.CodeDeliveryDetails.Destination;\n  }\n\n  static async resetPassword(username, code, password) {\n    await Auth.forgotPasswordSubmit(username, code, password);\n  }\n\n  static async login(username, password) {\n    await Auth.signIn(username, password);\n  }\n\n  static async logout() {\n    await Auth.signOut();\n  }\n\n  static async getUsername() {\n    const profile = await UserAuthApi.getProfile();\n    if(!profile)\n      return null;\n\n    return profile.username;\n  }\n\n  static async getAccessToken() {\n    const profile = await UserAuthApi.getProfile();\n    if(!profile)\n      return null;\n\n    const currentSession = profile.getSignInUserSession();\n    const accessToken = currentSession.getAccessToken();\n    return accessToken.getJwtToken();\n  }\n}\n\nexport default UserAuthApi;\n","const HeaderState = Object.freeze({\n  LOGIN: 0,\n  RECOVERY_USERNAME: 1,\n  RECOVERY_PASSWORD: 2,\n  RECOVERY_SUCCESS: 3,\n  REGISTER: 4,\n  REGISTER_VERIFY: 5,\n  REGISTER_SUCCESS: 6\n});\n\nexport default HeaderState;\n","import React, { Component } from 'react';\nimport Utils from '../Utils';\nimport HeaderUtils from './HeaderUtils';\nimport UserAuthApi from '../Api/UserAuthApi';\nimport HeaderState from './HeaderState';\nimport '../css/RegisterForm.css';\n\nconst USERNAME_MIN_LENGTH = 3;\nconst USERNAME_MAX_LENGTH = 20;\nconst ERROR_TRIGGER_PREFIX = 'PreSignUp failed with error';\n\nclass RegisterForm extends Component {\n  constructor(props) {\n    super(props);\n\n    const screen = props.unverifiedAccountUsername ?\n                   HeaderState.REGISTER_VERIFY : HeaderState.REGISTER;\n    this.state = {\n      error: '',\n      success: '',\n      username: props.unverifiedAccountUsername,\n      destination: props.unverifiedAccountDestination,\n      screen: screen\n    };\n\n    this.close = this.close.bind(this);\n    this.register = this.register.bind(this);\n    this.verifyEmail = this.verifyEmail.bind(this);\n    this.resendVerificationEmail = this.resendVerificationEmail.bind(this);\n  }\n\n  close() {\n    this.props.exitCallback();\n  }\n\n  async setError(message) {\n    if(message.startsWith(ERROR_TRIGGER_PREFIX)) {\n      message = message.substring(\n        ERROR_TRIGGER_PREFIX.length, message.length - 1\n      );\n    }\n\n    await Utils.setStatePromise(this, {\n      error: `Error: ${message}`,\n      success: ''\n    });\n  }\n\n  async register(event) {\n    event.preventDefault();\n\n    const form = event.target;\n    const username = form.username.value;\n    const email = form.email.value;\n    const password = form.password.value;\n    const confirmPassword = form.confirmPassword.value;\n\n    if(!username || !email || !password || !confirmPassword) {\n      await this.setError('Please fill out all of the fields.')\n      return;\n    }\n\n    if(username.length < USERNAME_MIN_LENGTH || username.length > USERNAME_MAX_LENGTH) {\n      await this.setError(\n        `Your username must be between ${USERNAME_MIN_LENGTH} ` +\n        `and ${USERNAME_MAX_LENGTH} characters!`\n      );\n      return;\n    }\n\n    const passwordsOk = await HeaderUtils.checkPasswords(this, password, confirmPassword);\n    if(!passwordsOk)\n      return;\n\n    try {\n      const destination = await UserAuthApi.register(username, email, password);\n      Utils.setStatePromise(this, {\n        error: '',\n        username: username,\n        destination: destination,\n        screen: HeaderState.REGISTER_VERIFY\n      });\n    }\n    catch(err) {\n      await this.setError(err.message);\n    }\n  }\n\n  async verifyEmail(event) {\n    event.preventDefault();\n\n    const code = event.target.code.value;\n    try {\n      await UserAuthApi.verifyEmail(this.state.username, code);\n      Utils.setStatePromise(this, {\n        error: '',\n        success: '',\n        screen: HeaderState.REGISTER_SUCCESS\n      });\n    }\n    catch(err) {\n      await this.setError(err.message);\n    }\n  }\n\n  async resendVerificationEmail(event) {\n    try {\n      await UserAuthApi.resendVerificationEmail(this.state.username);\n      await Utils.componentSetSuccess(this, 'Another email has been sent!');\n    }\n    catch(err) {\n      await this.setError(err.message);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const createAccountForm = (\n      <div className=\"Register-form Module-popup\">\n        { this.state.error && <h2>{this.state.error}</h2> }\n        <h2>Create an account!</h2>\n        <form className=\"Askd-form\" onSubmit={this.register}>\n          <label htmlFor=\"register-username\">Username</label>\n          <input autoComplete=\"off\" type=\"text\" name=\"username\"\n                 id=\"register-username\" />\n\n          <label htmlFor=\"register-email\">Email</label>\n          <input autoComplete=\"off\" type=\"text\" name=\"email\"\n                 id=\"register-email\" />\n\n          <label htmlFor=\"register-password\">Password</label>\n          <input autoComplete=\"off\" type=\"password\" name=\"password\"\n                 id=\"register-password\" />\n\n          <label htmlFor=\"register-confirm-password\">Confirm password</label>\n          <input autoComplete=\"off\" type=\"password\" name=\"confirmPassword\"\n                 id=\"register-confirm-password\" />\n\n          <input className=\"Askd-button Module-popup-last\" type=\"submit\"\n                 value=\"Register\" />\n        </form>\n      </div>\n    );\n\n    const verifyEmailForm = (\n      <div className=\"Register-form Module-popup\">\n        { this.state.error && <h2>{this.state.error}</h2> }\n        { this.state.success && <h2>{this.state.success}</h2> }\n        <h2>Verify your email!</h2>\n        <p>\n          You should've received an email at {this.state.destination} with a\n          verification code. If it isn't convenient for you to verify your\n          account now, you may do so later by logging in.\n        </p>\n        <form className=\"Askd-form\" onSubmit={this.verifyEmail}>\n          <label htmlFor=\"verification-code\">Verification code</label>\n          <input autoComplete=\"off\" type=\"text\" name=\"code\"\n                 key=\"verification-code\" id=\"verification-code\" />\n\n          <button type=\"button\" onClick={this.resendVerificationEmail}\n                  className=\"Askd-form-link Askd-form-link-bottom\">\n            Didn't get the email? Click here to resend\n          </button>\n\n          <input className=\"Askd-button Module-popup-last\" type=\"submit\"\n                 value=\"Submit\" />\n        </form>\n      </div>\n    );\n\n    const emailVerifiedBox = (\n      <div className=\"Register-form Module-popup\">\n        <h2>Verification success!</h2>\n        <p className=\"Module-popup-last\">\n          Your email was successfully verified! Click the 'X' button in the\n          top-right corner to return to the site, and you'll be able to login.\n        </p>\n      </div>\n    );\n\n    var currentForm;\n    switch(this.state.screen) {\n      case HeaderState.REGISTER:\n        currentForm = createAccountForm;\n        break;\n      case HeaderState.REGISTER_VERIFY:\n        currentForm = verifyEmailForm;\n        break;\n      case HeaderState.REGISTER_SUCCESS:\n        currentForm = emailVerifiedBox;\n        break;\n      default:\n    }\n\n    return (\n      <div className=\"Module-blocker\">\n        <button onClick={this.close}\n                className=\"Askd-form-close Askd-button Askd-button-circular\">X</button>\n        { currentForm }\n      </div>\n    );\n  }\n}\n\nexport default RegisterForm;\n","import React, { Component } from 'react';\nimport Utils from '../Utils';\nimport HeaderUtils from './HeaderUtils';\nimport UserAuthApi from '../Api/UserAuthApi';\nimport HeaderState from './HeaderState';\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      username: null,\n      destination: null,\n      screen: props.screen || HeaderState.LOGIN\n    }\n\n    this.close = this.close.bind(this);\n    this.login = this.login.bind(this);\n    this.enablePasswordRecovery = this.enablePasswordRecovery.bind(this);\n    this.forgotPassword = this.forgotPassword.bind(this);\n    this.resetPassword = this.resetPassword.bind(this);\n    this.resendVerificationEmail = this.resendVerificationEmail.bind(this);\n  }\n\n  close() {\n    this.props.exitCallback(false);\n  }\n\n  async login(event) {\n    event.preventDefault();\n\n    const form = event.target;\n    const username = form.username.value;\n    const password = form.password.value;\n\n    if(!username || !password) {\n      await Utils.componentSetError(this, \"Please fill out all of the fields.\");\n      return;\n    }\n\n    try {\n      try {\n        await UserAuthApi.login(username, password);\n        this.props.exitCallback(true);\n      }\n      catch(err) {\n        if(err.code === 'UserNotConfirmedException') {\n          const destination = await UserAuthApi.resendVerificationEmail(username);\n          await this.props.emailVerificationCallback(username, destination);\n        }\n        else {\n          throw err;\n        }\n      }\n    }\n    catch(err) {\n      await Utils.componentSetError(this, err.message);\n    }\n  }\n\n  async enablePasswordRecovery(event) {\n    await Utils.setStatePromise(this, {\n      error: '',\n      screen: HeaderState.RECOVERY_USERNAME\n    });\n  }\n\n  async forgotPassword(event) {\n    event.preventDefault();\n\n    const username = event.target.username.value;\n    if(!username) {\n      await Utils.componentsSetError(this, 'Please input your username.');\n      return;\n    }\n\n    try {\n      const destination = await UserAuthApi.forgotPassword(username);\n      await Utils.setStatePromise(this, {\n        error: '',\n        username: username,\n        destination: destination,\n        screen: HeaderState.RECOVERY_PASSWORD\n      });\n    }\n    catch(err) {\n      await Utils.componentSetError(this, err.message);\n    }\n  }\n\n  async resetPassword(event) {\n    event.preventDefault();\n\n    const form = event.target;\n    const code = form.code.value;\n    const password = form.password.value;\n    const confirmPassword = form.confirmPassword.value;\n\n    if(!code || !password || !confirmPassword) {\n      Utils.componentSetError(this, 'Please fill out all of the fields.');\n      return;\n    }\n\n    const passwordsOk = await HeaderUtils.checkPasswords(this, password, confirmPassword);\n    if(!passwordsOk)\n      return;\n\n    try {\n      await UserAuthApi.resetPassword(this.state.username, code, password);\n      await Utils.setStatePromise(this, {\n        error: '',\n        success: '',\n        screen: HeaderState.RECOVERY_SUCCESS\n      });\n    }\n    catch(err) {\n      await Utils.componentSetError(this, err.message);\n    }\n  }\n\n  async resendVerificationEmail(event) {\n    try {\n      await UserAuthApi.forgotPassword(this.state.username);\n      await Utils.componentSetSuccess(this, 'Another email has been sent!');\n    }\n    catch(err) {\n      await Utils.componentSetError(this, err.message);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const loginForm = (\n      <div className=\"Register-form Module-popup\">\n        { this.state.error && <h2>{this.state.error}</h2> }\n        <h2>Login to your account!</h2>\n        <form className=\"Askd-form\" onSubmit={this.login}>\n          <label htmlFor=\"login-username\">Username or email</label>\n          <input autoComplete=\"off\" type=\"text\" name=\"username\"\n                 key=\"login-username\" id=\"login-username\" />\n\n          <label htmlFor=\"login-password\">Password</label>\n          <input autoComplete=\"off\" type=\"password\" name=\"password\"\n                 key=\"login-password\" id=\"login-password\" />\n\n          <button type=\"button\" onClick={this.enablePasswordRecovery}\n                  className=\"Askd-form-link Askd-form-link-bottom\">\n            Forgot your password?\n          </button>\n\n          <input className=\"Askd-button\" type=\"submit\" value=\"Login\" />\n        </form>\n      </div>\n    );\n\n    const recoveryUsernameForm = (\n      <div className=\"Register-form Module-popup\">\n        { this.state.error && <h2>{this.state.error}</h2> }\n        <h2>Reset your password</h2>\n        <p>\n          Please provide your username or email, so that you can reset your\n          password via an emailed confirmation code.\n        </p>\n        <form className=\"Askd-form\" onSubmit={this.forgotPassword}>\n          <label htmlFor=\"reset-username\">Username or email</label>\n          <input autoComplete=\"off\" type=\"text\" name=\"username\"\n                 key=\"reset-username\" id=\"reset-username\" />\n\n          <input className=\"Askd-button\" type=\"submit\" value=\"Submit\" />\n        </form>\n      </div>\n    );\n\n    const recoveryPasswordForm = (\n      <div className=\"Register-form Module-popup\">\n        { this.state.error && <h2>{this.state.error}</h2> }\n        { this.state.success && <h2>{this.state.success}</h2> }\n        <h2>Reset your password</h2>\n        <p>\n          You should've received an email at { this.state.destination } with a\n          verification code.\n        </p>\n        <form className=\"Askd-form\" onSubmit={this.resetPassword}>\n          <label htmlFor=\"reset-code\">Code</label>\n          <input autoComplete=\"off\" type=\"text\" name=\"code\"\n                 key=\"reset-code\" id=\"reset-code\" />\n\n          <label htmlFor=\"reset-password\">Password</label>\n          <input autoComplete=\"off\" type=\"password\" name=\"password\"\n                 key=\"reset-password\" id=\"reset-password\" />\n\n          <label htmlFor=\"reset-confirm-password\">Confirm password</label>\n          <input autoComplete=\"off\" type=\"password\" name=\"confirmPassword\"\n                 key=\"reset-confirm-password\" id=\"reset-confirm-password\" />\n\n          <button type=\"button\" onClick={this.resendVerificationEmail}\n                  className=\"Askd-form-link Askd-form-link-bottom\">\n            Didn't get the email? Click here to resend\n          </button>\n\n          <input className=\"Askd-button\" type=\"submit\" value=\"Submit\" />\n        </form>\n      </div>\n    );\n\n    const recoveryPasswordSuccess= (\n      <div className=\"Register-form Module-popup\">\n        <h2>Password reset success!</h2>\n        <p>\n          Your password has been reset successfully. You'll now be able to\n          login again.\n        </p>\n      </div>\n    );\n\n    var currentForm;\n    switch(this.state.screen) {\n      case HeaderState.LOGIN:\n        currentForm = loginForm;\n        break;\n      case HeaderState.RECOVERY_USERNAME:\n        currentForm = recoveryUsernameForm;\n        break;\n      case HeaderState.RECOVERY_PASSWORD:\n        currentForm = recoveryPasswordForm;\n        break;\n      case HeaderState.RECOVERY_SUCCESS:\n        currentForm = recoveryPasswordSuccess;\n        break;\n      default:\n    }\n\n    return (\n      <div className=\"Module-blocker\">\n        <button onClick={this.close}\n                className=\"Askd-form-close Askd-button Askd-button-circular\">X</button>\n        { currentForm }\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport UserAuthApi from '../Api/UserAuthApi';\nimport '../css/UserMenu.css'\n\nclass UserMenu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = this.logout.bind(this);\n  }\n\n  async logout() {\n    await UserAuthApi.logout();\n    await this.props.logoutCallback();\n  }\n\n  render() {\n    return (\n      <div className=\"User-menu\">\n        <ol>\n          <li>\n            <Link className=\"Header-menu-button\" onClick={this.props.closeCallback}\n                  to={`/users/${this.props.username}`}>\n                  Your profile\n            </Link>\n          </li>\n          <div className=\"User-menu-divider\"></div>\n          <li className=\"User-menu-not-link\">\n            <button className=\"Header-menu-button\">\n              Settings\n            </button>\n          </li>\n          <li className=\"User-menu-not-link\">\n            <button className=\"Header-menu-button\" onClick={this.logout}>\n              Logout\n            </button>\n          </li>\n        </ol>\n      </div>\n    );\n  }\n}\n\nexport default UserMenu;\n","import React, { Component } from 'react';\nimport Utils from '../Utils';\nimport RegisterForm from './RegisterForm';\nimport LoginForm from './LoginForm';\nimport UserMenu from './UserMenu';\nimport UserAuthApi from '../Api/UserAuthApi';\n\nclass HeaderAuth extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: null,\n      showRegisterForm: false,\n      showLoginForm: false,\n      showUserMenu: false,\n      unverifiedAccountUsername: null,\n      unverifiedAccountDestination: null\n    };\n\n    this.refreshUsername = this.refreshUsername.bind(this);\n    this.toggleRegisterForm = this.toggleRegisterForm.bind(this);\n    this.toggleLoginForm = this.toggleLoginForm.bind(this);\n    this.toggleUserMenu = this.toggleUserMenu.bind(this);\n    this.hideUserMenu = this.hideUserMenu.bind(this);\n    this.afterLogin = this.afterLogin.bind(this);\n    this.unverifiedAccount = this.unverifiedAccount.bind(this);\n\n    window.suggestUserRegister = this.toggleRegisterForm;\n  }\n\n  async refreshUsername() {\n    const username = await UserAuthApi.getUsername();\n\n    await Utils.setStatePromise(this, {\n      username: username,\n      showUserMenu: false,\n      unverifiedAccountUsername: null\n    });\n  }\n\n  async componentDidMount() {\n    await this.refreshUsername();\n  }\n\n  async toggleRegisterForm(event) {\n    if(this.state.showRegisterForm) {\n      await Utils.setStatePromise(this, {\n        unverifiedAccountUsername: null,\n        unverifiedAccountDestination: null\n      });\n    }\n\n    await Utils.setStatePromise(this, {\n      showRegisterForm: !this.state.showRegisterForm\n    });\n  }\n\n  async toggleLoginForm(event) {\n    await Utils.setStatePromise(this, {\n      showLoginForm: !this.state.showLoginForm\n    });\n  }\n\n  async toggleUserMenu(event) {\n    await Utils.setStatePromise(this, {\n      showUserMenu: !this.state.showUserMenu\n    });\n  }\n\n  async hideUserMenu(event) {\n    const focusedElement = event.relatedTarget;\n    if(focusedElement && focusedElement.classList.contains('Header-menu-button'))\n      return;\n\n    await Utils.setStatePromise(this, {\n      showUserMenu: false\n    });\n  }\n\n  async afterLogin(loggedIn) {\n    await this.toggleLoginForm();\n\n    if(loggedIn)\n      await this.refreshUsername();\n  }\n\n  async unverifiedAccount(username, destination) {\n    await Utils.setStatePromise(this, {\n      showLoginForm: false,\n      showRegisterForm: true,\n      unverifiedAccountUsername: username,\n      unverifiedAccountDestination: destination\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const loginButtons = (\n      <div className=\"Header-top-right\">\n        <button className=\"Header-menu-button\" onClick={this.toggleLoginForm}>\n          Login\n        </button>\n        <span className=\"Header-divider\"></span>\n        <button className=\"Header-menu-button\" onClick={this.toggleRegisterForm}>\n          Create an account\n        </button>\n      </div>\n    );\n\n    const loggedInButton = (\n      <div className=\"Header-logged-in\" tabIndex=\"-1\"\n           onBlur={this.hideUserMenu}>\n        <div className=\"Header-top-right\">\n          <button className=\"Header-menu-button\" onClick={this.toggleUserMenu}>\n            { this.state.username }\n          </button>\n        </div>\n        <div className=\"Header-user-menu\">\n          {\n            this.state.showUserMenu &&\n            <UserMenu username={this.state.username}\n                      closeCallback={this.toggleUserMenu}\n                      logoutCallback={this.refreshUsername} />\n          }\n        </div>\n      </div>\n    );\n\n    const topRightButtons = this.state.username ? loggedInButton : loginButtons;\n\n    return (\n      <>\n        {\n          this.state.showRegisterForm &&\n          <RegisterForm exitCallback={this.toggleRegisterForm}\n                        unverifiedAccountUsername=\n                        {this.state.unverifiedAccountUsername}\n                        unverifiedAccountDestination=\n                        {this.state.unverifiedAccountDestination} />\n        }\n        {\n          this.state.showLoginForm &&\n          <LoginForm exitCallback={this.afterLogin}\n                     emailVerificationCallback={this.unverifiedAccount} />\n        }\n        { topRightButtons }\n      </>\n    );\n  }\n}\n\nexport default HeaderAuth;\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport HeaderAuth from './HeaderAuth';\nimport '../css/Header.css';\n\nfunction Header() {\n  const path = useLocation().pathname;\n  const small = (path === '/' || path === '/home');\n  const outerClassName = small ? 'Header' : 'Header-small';\n\n  return (\n    <div className={outerClassName}>\n      { small && <h1>cp-notes beta</h1> }\n      <ul>\n        <li>\n          <Link to=\"/home\">Home</Link>\n        </li>\n      </ul>\n      <HeaderAuth />\n      <span className=\"Header-bottom\"></span>\n    </div>\n  );\n}\n\nexport default Header;\n","function lessThan(a, b, c, d) {\n  if(a === c)\n    return b < d;\n  return a < c;\n}\n\nclass Caret {\n  constructor(id) {\n    this.id = id;\n  }\n\n  getInfo() {\n    const selection = window.getSelection();\n    const anchorElement = selection.anchorNode.parentElement;\n    const focusElement = selection.focusNode.parentElement;\n\n    let anchorIndex = Number(anchorElement.getAttribute('index'));\n    let focusIndex = Number(focusElement.getAttribute('index'));\n    let anchorOffset = selection.anchorOffset;\n    let focusOffset = selection.focusOffset;\n\n    if(anchorIndex === focusIndex && anchorOffset === focusOffset) {\n      return {\n        rangeSelect: false,\n        index: anchorIndex,\n        position: anchorOffset\n      };\n    }\n\n    if(!lessThan(anchorIndex, anchorOffset, focusIndex, focusOffset)) {\n      [ anchorIndex, focusIndex ] = [ focusIndex, anchorIndex ];\n      [ anchorOffset, focusOffset ] = [ focusOffset, anchorOffset ];\n    }\n\n    return {\n      rangeSelect: true,\n      leftIndex: anchorIndex,\n      leftPosition: anchorOffset,\n      rightIndex: focusIndex,\n      rightPosition: focusOffset\n    };\n  }\n\n  setPosition(index, position) {\n    const blockElement = document.getElementById(this.id + index);\n    let textNode = blockElement.childNodes[0];\n\n    if(!textNode) {\n      textNode = document.createTextNode('');\n      blockElement.appendChild(textNode);\n    }\n\n    let range = document.createRange();\n    range.setStart(textNode, position);\n    range.collapse(true);\n\n    let selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n  }\n\n  setRangePosition(leftIndex, leftPosition, rightIndex, rightPosition) {\n    const leftBlockElement = document.getElementById(this.id + leftIndex);\n    const rightBlockElement = document.getElementById(this.id + rightIndex);\n    const leftTextNode = leftBlockElement.childNodes[0];\n    const rightTextNode = rightBlockElement.childNodes[0];\n\n    let range = document.createRange();\n    range.setStart(leftTextNode, leftPosition);\n    range.setEnd(rightTextNode, rightPosition);\n\n    let selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n  }\n}\n\nexport default Caret;\n","const ContentType = Object.freeze({\n  MATH: (1 << 0),\n  BOLD: (1 << 1),\n  ITALIC: (1 << 2),\n  UNDERLINE: (1 << 3)\n});\n\nexport default ContentType;\n","import React, { Component } from 'react';\nimport ContentType from './ContentType';\n\nclass Toolbar extends Component {\n  render() {\n    const boldSelected = (this.props.mask & ContentType.BOLD) > 0;\n    const italicSelected = (this.props.mask & ContentType.ITALIC) > 0;\n    const underlineSelected = (this.props.mask & ContentType.UNDERLINE) > 0;\n    const mathSelected = (this.props.mask & ContentType.MATH) > 0;\n\n    return (\n      <div className=\"Askd-text-editor-toolbar\">\n        <ul>\n          <li className={`Askd-tb-selected-${boldSelected}`}>\n            <button type=\"button\" className=\"Askd-tb-icon Askd-tb-BOLD\"\n                    onClick={() => this.props.callback(ContentType.BOLD)} />\n          </li>\n          <li className={`Askd-tb-selected-${italicSelected}`}>\n            <button type=\"button\" className=\"Askd-tb-icon Askd-tb-ITALIC\"\n                    onClick={() => this.props.callback(ContentType.ITALIC)} />\n          </li>\n          <li className={`Askd-tb-selected-${underlineSelected}`}>\n            <button type=\"button\" className=\"Askd-tb-icon Askd-tb-UNDERLINE\"\n                    onClick={() => this.props.callback(ContentType.UNDERLINE)} />\n          </li>\n          <li className={`Askd-tb-selected-${mathSelected}`}>\n            <button type=\"button\" className=\"Askd-tb-icon Askd-tb-MATH\"\n                    onClick={() => this.props.callback(ContentType.MATH)} />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default Toolbar;\n","import ContentType from './ContentType';\n\nclass MaskManager {\n  static toolbarMergeBit(bit, on, originalMask) {\n    if(bit === ContentType.MATH) {\n      if(on) return bit;\n      return 0;\n    }\n    else {\n      if(originalMask & ContentType.MATH) {\n        originalMask ^= ContentType.MATH;\n      }\n      return originalMask ^ bit;\n    }\n  }\n\n  static editorMergeBit(bit, on, originalMask) {\n    if(bit === ContentType.MATH) {\n      if(on) return bit;\n\n      if(originalMask & bit) originalMask ^= bit;\n      return originalMask;\n    }\n    else {\n      if(originalMask & ContentType.MATH) originalMask = 0;\n      if(on) return originalMask | bit;\n\n      if(originalMask & bit) originalMask ^= bit;\n      return originalMask;\n    }\n  }\n}\n\nexport default MaskManager;\n","import MaskManager from './MaskManager';\n\n// This is different from str.length; for example emojis use up 2\nfunction countCharacters(str) {\n  let counter = 0;\n  for(const character of str) {\n    Number(character);  // Silence unused variable warning\n    counter++;\n  }\n  return counter;\n}\n\nclass VirtualTextEditor {\n  constructor(initialContent) {\n    this.characters = [];\n    this.globalCaretPosition = 0;\n\n    if(initialContent) {\n      for(const block of initialContent) {\n        const mask = block.m;\n        for(const char of block.c) {\n          this.characters.push({\n            m: mask,\n            c: char\n          });\n        }\n      }\n\n      /* Remove extra newline character */\n      this.characters.splice(this.characters.length - 1);\n    }\n\n    this.updateBlocks();\n  }\n\n  getIndexAndPosition(globalIndex) {\n    let charactersScanned = 0;\n    for(let i = 0; i < this.blocks.length; i++) {\n      const block = this.blocks[i];\n      const blockLength = countCharacters(block.c);\n      const blockEndIndex = charactersScanned + blockLength;\n\n      if(globalIndex <= blockEndIndex) {\n        let position = 0;\n        for(let j = charactersScanned; j <= blockEndIndex; j++) {\n          if(globalIndex === j) {\n            return [ i, position ];\n          }\n          position += this.characters[j].c.length;\n        }\n      }\n      charactersScanned += blockLength;\n    }\n\n    return [ null, null ];\n  }\n\n  getGlobalIndex(index, position) {\n    let globalIndex = this.blockStarts[index];\n    let characterCounter = 0;\n    while(characterCounter < position) {\n      characterCounter += this.characters[globalIndex].c.length;\n      globalIndex++;\n    }\n\n    if(characterCounter === position)\n      return globalIndex;\n\n    return globalIndex - 1;\n  }\n\n  getCharacterMask(index, position, rangeSelect) {\n    const globalIndex = this.getGlobalIndex(index, position);\n\n    if(globalIndex === 0) {\n      if(this.characters.length > 0)\n        return this.characters[0].m;\n      return 0;\n    }\n    else if(rangeSelect) {\n      return this.characters[globalIndex].m;\n    }\n    return this.characters[globalIndex - 1].m;\n  }\n\n  insert(index, position, insertedString, mask) {\n    const globalIndex = this.getGlobalIndex(index, position);\n    const rightBuffer = this.characters.splice(globalIndex);\n\n    for(const char of insertedString) {\n      this.characters.push({\n        m: mask,\n        c: char\n      });\n    }\n\n    const globalCaretPosition = this.characters.length;\n    for(const character of rightBuffer) {\n      this.characters.push(character);\n    }\n\n    this.updateBlocks();\n    return this.getIndexAndPosition(globalCaretPosition);\n  }\n\n  delete(leftIndex, leftPosition, rightIndex, rightPosition) {\n    const globalLeftIndex = this.getGlobalIndex(leftIndex, leftPosition);\n    const globalRightIndex = this.getGlobalIndex(rightIndex, rightPosition);\n    const deleteLength = globalRightIndex - globalLeftIndex;\n\n    if(globalLeftIndex < 0) {\n      return [ 0, 0 ];\n    }\n\n    this.characters.splice(globalLeftIndex, deleteLength);\n    const globalCaretPosition = globalLeftIndex;\n\n    this.updateBlocks();\n    return this.getIndexAndPosition(globalCaretPosition);\n  }\n\n  rangeMaskUpdate(leftIndex, leftPosition, rightIndex, rightPosition, bit, on) {\n    const globalLeftIndex = this.getGlobalIndex(leftIndex, leftPosition);\n    const globalRightIndex = this.getGlobalIndex(rightIndex, rightPosition);\n\n    for(let i = globalLeftIndex; i < globalRightIndex; i++) {\n      this.characters[i].m = MaskManager.editorMergeBit(bit, on, this.characters[i].m);\n    }\n\n    this.updateBlocks();\n\n    const [ newLeftIndex, newLeftPosition ] = this.getIndexAndPosition(globalLeftIndex);\n    const [ newRightIndex, newRightPosition ] = this.getIndexAndPosition(globalRightIndex);\n    return [ newLeftIndex, newLeftPosition, newRightIndex, newRightPosition ];\n  }\n\n  updateBlocks() {\n    this.blocks = [];\n    this.blockStarts = [];\n\n    let currentMask = this.characters.length > 0 ? this.characters[0].m : 0;\n    let characterBuffer = [];\n    this.characters.forEach((character, i) => {\n      if(character.m !== currentMask) {\n        this.blocks.push({\n          m: currentMask,\n          c: characterBuffer.join('')\n        });\n        this.blockStarts.push(i - characterBuffer.length);\n\n        currentMask = character.m;\n        characterBuffer = [ character.c ];\n      }\n      else {\n        characterBuffer.push(character.c);\n      }\n    });\n\n    this.blocks.push({\n      m: currentMask,\n      c: characterBuffer.join('')\n    });\n    this.blockStarts.push(this.characters.length - characterBuffer.length);\n\n    /* Extra 'empty' block for a potential caret position */\n    this.blocks.push({\n      m: 0,\n      c: String.fromCharCode(8203)\n    });\n\n    /* Extra newline character sets correct caret positioning */\n    this.blocks.push({\n      m: 0,\n      c: String.fromCharCode(10)\n    });\n\n    this.blockStarts.push(this.characters.length);\n    this.blockStarts.push(this.characters.length);\n  }\n\n  getContent() {\n    return this.blocks;\n  }\n}\n\nexport default VirtualTextEditor;\n","import React from 'react';\n\nfunction MathBlock({ id, index, block, rendered }) {\n  // let content = rendered ? '\\\\(' + block.c + '\\\\)' : block.c;\n  let content = block.c;\n  let className = rendered ? 'Askd-te-MATHJAX' : 'Askd-te-MATH';\n\n  return (\n    <div className={className} id={id} index={index}>\n      { content }\n    </div>\n  );\n}\n\nexport default MathBlock;\n","import React, { Component } from 'react';\nimport ContentType from '../ContentType';\nimport MathBlock from './MathBlock';\n\nfunction getClassName(mask) {\n  let className = '';\n  for(const style in ContentType) {\n    if(mask & ContentType[style]) {\n      className += `Askd-te-${style} `;\n    }\n  }\n  return className;\n}\n\nclass Block extends Component {\n  componentDidMount() {\n    window.MathJax.typeset(['.Askd-te-MATHJAX']);\n  }\n\n  render() {\n    const block = this.props.block;\n    const editorId = this.props.id;\n    const index = this.props.index;\n    const editorMask = this.props.editorMask;\n    const selected = this.props.selected;\n\n    if(block.m === ContentType.MATH) {\n      const rendered = !selected || !(editorMask & ContentType.MATH);\n      return (\n        <MathBlock id={editorId + index} rendered={rendered} block={block}\n                   index={index} />\n      );\n    }\n\n    return (\n      <div className={getClassName(block.m)} id={editorId + index} index={index}>\n        { block.c }\n      </div>\n    );\n  }\n}\n\nexport default Block;\n","import React from 'react';\nimport Block from './Block/Block';\n\nfunction TextEditorContent({ content, id, editable, editorMask, caretInfo, handleBlur }) {\n  let contentElements = [];\n  content.forEach((block, i) => {\n    let selected = false;\n    if(caretInfo && caretInfo.editorSelected) {\n      if(!caretInfo.rangeSelect && caretInfo.index === i) {\n        selected = true;\n      }\n      if(caretInfo.rangeSelect && caretInfo.leftIndex === i) {\n        selected = true;\n      }\n    }\n\n    contentElements.push(\n      <Block block={block} id={id} index={i} key={i} editorMask={editorMask}\n             selected={selected} />\n    );\n  });\n\n  return (\n    <div className=\"Askd-text-editor-text\" id={id} tabIndex=\"0\"\n         contentEditable={editable} suppressContentEditableWarning=\"true\"\n         spellCheck=\"false\" onBlur={handleBlur}>\n         { contentElements }\n    </div>\n  );\n}\n\nexport default TextEditorContent;\n","const registerEventHandlers = (that) => {\n  that.textEditor.addEventListener('keydown', async (event) => {\n    /* TBD, bro who even uses that button lol */\n    if(event.key === 'Delete') {\n      event.preventDefault();\n    }\n    else if(event.key === 'Backspace' && !that.composing) {\n      await that.delete();\n      event.preventDefault();\n    }\n    else if(event.key === 'Enter' && !that.composing) {\n      await that.insert(String.fromCharCode(10));\n      event.preventDefault();\n    }\n  });\n\n  that.textEditor.addEventListener('beforeinput', async (event) => {\n    if(event.isComposing || that.composing) {\n      return;\n    }\n\n    event.preventDefault();\n\n    /* Mobile autocorrect and word selection from a menu */\n    if(event.inputType === 'insertReplacementText') {\n      that.caretInfo.rangeSelect = true;\n      const insertedString = event.dataTransfer.getData('text');\n      await that.insert(insertedString);\n    }\n    /* Generic event with a valid 'data'; things like undo/redo operations and\n       drag and drop are TBD */\n    else if(event.data) {\n      await that.insert(event.data);\n    }\n  });\n\n  that.textEditor.addEventListener('paste', async (event) => {\n    event.preventDefault();\n\n    const pasteText = event.clipboardData.getData('Text');\n    await that.insert(pasteText);\n  });\n\n  that.textEditor.addEventListener('compositionstart', async (event) => {\n    if(that.caretInfo.rangeSelect) {\n      await that.delete();\n    }\n\n    that.composing = true;\n    that.compositionIndex = that.caretInfo.index;\n    that.compositionPosition = that.caretInfo.position;\n\n    /* Set the previous block to be uneditable */\n    let previousBlockElement = document.getElementById(that.id +\n      (that.compositionIndex - 1));\n    if(previousBlockElement) {\n      previousBlockElement.setAttribute('contenteditable', 'false');\n    }\n\n    let nextBlockElement = document.getElementById(that.id +\n      (that.compositionIndex + 1));\n\n    /* Create an empty uneditable composition div in front of this block */\n    let compositionDiv = document.createElement('div');\n    compositionDiv.setAttribute('contenteditable', 'false');\n    compositionDiv.setAttribute('id', that.id + 'composition');\n    that.textEditor.insertBefore(compositionDiv, nextBlockElement);\n  });\n\n  that.textEditor.addEventListener('compositionend', async (event) => {\n    if(!that.composing) {\n      return;\n    }\n\n    /* Composition has ended; allow the previous block to be editable again */\n    let previousBlockElement = document.getElementById(that.id +\n      (that.compositionIndex - 1));\n    if(previousBlockElement) {\n      previousBlockElement.setAttribute('contenteditable', 'true');\n    }\n\n    /* Remove the composition div */\n    let compositionDiv = document.getElementById(that.id + 'composition');\n    that.textEditor.removeChild(compositionDiv);\n\n    that.composing = false;\n    await that.compositionInsert(event.data);\n  });\n\n  let handleSelectionChange = async (event) => {\n    if(that.composing) {\n      return;\n    }\n\n    try {\n      const selection = window.getSelection();\n      const anchorElement = selection.anchorNode.parentElement;\n      const parentElement = anchorElement.parentElement;\n\n      if(anchorElement.getAttribute('id') === that.id + '!' ||\n         parentElement.getAttribute('id') === that.id) {\n        await that.selectionChanged();\n      }\n    }\n    catch(err) {\n      /* anchorElement isn't a div inside the text editor */\n    }\n  };\n\n  document.addEventListener('selectionchange', handleSelectionChange);\n\n  return handleSelectionChange;\n}\n\nexport default registerEventHandlers;\n","import React, { Component } from 'react';\nimport Caret from './Caret';\nimport Toolbar from './Toolbar';\nimport VirtualTextEditor from './VirtualTextEditor';\nimport TextEditorContent from './TextEditorContent';\nimport MaskManager from './MaskManager';\nimport Utils from '../Utils';\nimport registerEventHandlers from './registerEventHandlers';\nimport '../css/TextEditor.css';\n\nclass TextEditor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.id = this.props.uniqueKey ?\n                `Askd-text-editor${this.props.uniqueKey}` : 'Askd-text-editor';\n    this.virtualTextEditor = new VirtualTextEditor(this.props.initialContent);\n    this.caret = new Caret(this.id);\n\n    this.contentChanged = false;\n    this.caretInfo = {\n      editorSelected: false,\n      rangeSelect: false,\n      index: 0,\n      position: 0\n    };\n\n    this.composing = false;\n    this.compositionIndex = null;\n    this.compositionPosition = null;\n\n    this.state = {\n      content: this.virtualTextEditor.getContent(),\n      editorMask: 0\n    };\n\n    this.toolbarUpdate = this.toolbarUpdate.bind(this);\n  }\n\n  async delete() {\n    if(!this.caretInfo.rangeSelect) {\n      [ this.caretInfo.index, this.caretInfo.position ] = this.virtualTextEditor.delete(\n        this.caretInfo.index, this.caretInfo.position - 1,\n        this.caretInfo.index, this.caretInfo.position\n      );\n    }\n    else {\n      [ this.caretInfo.index, this.caretInfo.position ] = this.virtualTextEditor.delete(\n        this.caretInfo.leftIndex, this.caretInfo.leftPosition,\n        this.caretInfo.rightIndex, this.caretInfo.rightPosition\n      );\n    }\n\n    this.caretInfo.rangeSelect = false;\n    await this.updateText();\n  }\n\n  async insert(newString) {\n    this.updateCaretInfo();\n\n    if(this.caretInfo.rangeSelect) {\n      await this.delete();\n    }\n\n    [ this.caretInfo.index, this.caretInfo.position ] = this.virtualTextEditor.insert(\n      this.caretInfo.index, this.caretInfo.position, newString,\n      this.state.editorMask\n    );\n\n    this.caretInfo.rangeSelect = false;\n    await this.updateText();\n  }\n\n  async compositionInsert(newString) {\n    [ this.caretInfo.index, this.caretInfo.position ] = this.virtualTextEditor.insert(\n      this.compositionIndex, this.compositionPosition, newString,\n      this.state.editorMask\n    );\n\n    this.caretInfo.rangeSelect = false;\n    await this.updateText();\n  }\n\n  async rangeMaskUpdate(bit, on) {\n    if(!this.caretInfo.rangeSelect) {\n      return;\n    }\n\n    [ this.caretInfo.leftIndex, this.caretInfo.leftPosition,\n      this.caretInfo.rightIndex, this.caretInfo.rightPosition ] =\n    this.virtualTextEditor.rangeMaskUpdate(\n      this.caretInfo.leftIndex, this.caretInfo.leftPosition,\n      this.caretInfo.rightIndex, this.caretInfo.rightPosition, bit, on\n    );\n\n    await this.updateText();\n  }\n\n  async updateText() {\n    this.contentChanged = true;\n    await Utils.setStatePromise(this, {\n      content: this.virtualTextEditor.getContent()\n    });\n  }\n\n  async updateMask(newMask) {\n    await Utils.setStatePromise(this, {\n      editorMask: newMask\n    });\n  }\n\n  async toolbarUpdate(bit) {\n    this.textEditor.focus();\n\n    const on = (this.state.editorMask & bit) === 0;\n    const newToolbarMask = MaskManager.toolbarMergeBit(bit, on, this.state.editorMask);\n\n    await this.updateMask(newToolbarMask);\n    await this.rangeMaskUpdate(bit, on);\n  }\n\n  updateCaretInfo() {\n    const newCaretInfo = this.caret.getInfo();\n    const maxCaretIndex = this.state.content.length - 2;\n\n    /* Maintain previous info for the other selection type */\n    if(newCaretInfo.rangeSelect) {\n      let badCaretRange = false;\n\n      if(newCaretInfo.leftIndex >= maxCaretIndex && newCaretInfo.leftPosition > 0) {\n        newCaretInfo.leftIndex = maxCaretIndex;\n        newCaretInfo.leftPosition = 0;\n        badCaretRange = true;\n      }\n\n      if(newCaretInfo.rightIndex >= maxCaretIndex && newCaretInfo.rightPosition > 0) {\n        newCaretInfo.rightIndex = maxCaretIndex;\n        newCaretInfo.rightPosition = 0;\n        badCaretRange = true;\n      }\n\n      if(badCaretRange) {\n        this.caret.setRangePosition(newCaretInfo.leftIndex,\n          newCaretInfo.leftPosition, newCaretInfo.rightIndex,\n          newCaretInfo.rightPosition\n        );\n      }\n\n      this.caretInfo.leftIndex = newCaretInfo.leftIndex;\n      this.caretInfo.leftPosition = newCaretInfo.leftPosition;\n      this.caretInfo.rightIndex = newCaretInfo.rightIndex;\n      this.caretInfo.rightPosition = newCaretInfo.rightPosition;\n      this.caretInfo.rangeSelect = true;\n    }\n    else {\n      if(newCaretInfo.index >= maxCaretIndex && newCaretInfo.position > 0) {\n        newCaretInfo.index = maxCaretIndex;\n        newCaretInfo.position = 0;\n        this.caret.setPosition(newCaretInfo.index, newCaretInfo.position);\n      }\n\n      this.caretInfo.index = newCaretInfo.index;\n      this.caretInfo.position = newCaretInfo.position;\n      this.caretInfo.rangeSelect = false;\n    }\n\n    this.caretInfo.editorSelected = true;\n  }\n\n  async selectionChanged() {\n    this.updateCaretInfo();\n\n    let leftCharacterMask;\n    if(this.caretInfo.rangeSelect) {\n      leftCharacterMask = this.virtualTextEditor.getCharacterMask(\n        this.caretInfo.leftIndex, this.caretInfo.leftPosition, true\n      );\n    }\n    else {\n      leftCharacterMask = this.virtualTextEditor.getCharacterMask(\n        this.caretInfo.index, this.caretInfo.position, false\n      );\n    }\n\n    await this.updateMask(leftCharacterMask);\n  }\n\n  componentDidMount() {\n    this.textEditor = document.getElementById(this.id);\n    this.handleSelectionChange = registerEventHandlers(this);\n  }\n\n  async componentDidUpdate() {\n    if(!this.contentChanged) {\n      return;\n    }\n\n    /* The rendered text must be manually sanitized since there's no way to\n       preventDefault a compositionend event in some browsers... */\n    let junkNodes = [];\n    for(const node of this.textEditor.childNodes) {\n      if(node.nodeType === Node.TEXT_NODE || node.nodeName === 'BR' ||\n         node.nodeName === 'SPAN') {\n        junkNodes.push(node);\n      }\n    }\n\n    for(const node of junkNodes) {\n      this.textEditor.removeChild(node);\n    }\n\n    for(let i = 0; i < this.state.content.length; i++) {\n      let childElement = this.textEditor.children[i];\n      if(childElement.innerHTML !== this.state.content[i].c) {\n        childElement.childNodes[0].nodeValue = this.state.content[i].c;\n      }\n    }\n\n    if(this.caretInfo.rangeSelect) {\n      this.caret.setRangePosition(\n        this.caretInfo.leftIndex, this.caretInfo.leftPosition,\n        this.caretInfo.rightIndex, this.caretInfo.rightPosition\n      );\n    }\n    else {\n      this.caret.setPosition(this.caretInfo.index, this.caretInfo.position);\n    }\n\n    this.contentChanged = false;\n    this.updateCaretInfo();\n\n    /* Callback with new content */\n    if(this.props.onChange) {\n      this.props.onChange(this.state.content);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    document.removeEventListener('selectionchange', this.handleSelectionChange);\n  }\n\n  render() {\n    let handleBlur = (event) => {\n      if(this.caretInfo.editorSelected) {\n        this.caretInfo.editorSelected = false;\n        this.forceUpdate();\n      }\n    };\n\n    return (\n      <div className=\"Askd-text-editor\" id={this.id + '!'}>\n        <Toolbar mask={this.state.editorMask} callback={this.toolbarUpdate} />\n        <TextEditorContent content={this.state.content} id={this.id}\n                           editable={true} handleBlur={handleBlur}\n                           editorMask={this.state.editorMask}\n                           caretInfo={this.caretInfo} />\n      </div>\n    );\n  }\n}\n\nexport default TextEditor;\n","import React, { Component } from 'react';\nimport TextEditor from '../TextEditor/TextEditor';\nimport Utils from '../Utils';\n\nclass CpNotes extends Component {\n  componentDidMount() {\n    Utils.renderMathJax();\n  }\n\n  render() {\n    return (\n      <div className=\"Module-wrapper\">\n        <div className=\"Module-description Module-description-centered\">\n          <p>A work-in-progress web application for storing publicly\n          accessible competitive programming notes! \\[\\LaTeX\\]</p>\n        </div>\n        <TextEditor />\n      </div>\n    );\n  }\n}\n\nexport default CpNotes;\n","import React from 'react';\nimport CpNotes from '../Home/CpNotes';\n\nfunction Home() {\n  return (\n    <>\n      <CpNotes />\n    </>\n  );\n}\n\nexport default Home;\n","import React from 'react';\n\nfunction UserInfo({ info }) {\n  return (\n    <>\n      <h2 className=\"Module-heading\">{info.username}</h2>\n      {\n        info.email &&\n        <p>Email: {info.email} (only visible to you)</p>\n      }\n    </>\n  );\n}\n\nexport default UserInfo;\n","import React, { Component } from 'react';\nimport Utils from '../Utils';\nimport '../css/SearchSelect.css';\n\nconst MAX_OPTIONS = 10;\nconst GLOBAL_SORT_KEY = 'sk';\n\nclass SearchSelect extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      searchTerm: '',\n      previousValidSearchTerm: '',\n      showOptions: false,\n      options: [],\n      filteredOptions: []\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleOptionSelect = this.handleOptionSelect.bind(this);\n  }\n\n  getOptionString(option) {\n    const optionStringArray = [];\n    for(const key of this.props.keys)\n      optionStringArray.push(option[key]);\n\n    return optionStringArray.join(' - ');\n  }\n\n  async filterOptions() {\n    var filteredOptions = [];\n    const searchTerm = this.state.searchTerm.toLowerCase();\n\n    for(const option of this.state.options) {\n      if(filteredOptions.length === MAX_OPTIONS)\n        break;\n\n      const optionString = this.getOptionString(option);\n      if(optionString.toLowerCase().includes(searchTerm)) {\n        filteredOptions.push(option);\n        continue;\n      }\n\n      for(const key of this.props.keys) {\n        if(option[key].toLowerCase().includes(searchTerm)) {\n          filteredOptions.push(option);\n          break;\n        }\n      }\n    }\n\n    await Utils.setStatePromise(this, {\n      filteredOptions: filteredOptions\n    });\n  }\n\n  async componentDidUpdate(prevProps) {\n    if(prevProps.staticKey && !this.props.staticKey) {\n      await Utils.setStatePromise(this, {\n        searchTerm: ''\n      });\n      return;\n    }\n\n    if(this.props.staticKey === prevProps.staticKey)\n      return;\n\n    await Utils.setStatePromise(this, {\n      searchTerm: '',\n      loading: true\n    });\n    const options = await this.props.search();\n\n    await Utils.setStatePromise(this, {\n      loading: false,\n      previousValidSearchTerm: '',\n      options: options,\n      showOptions: false\n    });\n\n    await this.filterOptions();\n  }\n\n  async handleChange(event) {\n    await Utils.setStatePromise(this, {\n      searchTerm: event.target.value,\n    });\n\n    await this.filterOptions();\n  }\n\n  async handleBlur(event) {\n    const focusedElement = event.relatedTarget;\n    if(focusedElement && focusedElement.id === `Select-options-${this.props.name}`)\n      return;\n\n    await Utils.setStatePromise(this, {\n      showOptions: false,\n      searchTerm: this.state.previousValidSearchTerm\n    });\n  }\n\n  async handleFocus(event) {\n    await Utils.setStatePromise(this, {\n      showOptions: true\n    });\n  }\n\n  async handleOptionSelect(sortKey, optionString) {\n    await Utils.setStatePromise(this, {\n      searchTerm: optionString,\n      previousValidSearchTerm: optionString,\n      showOptions: false\n    });\n\n    await this.filterOptions();\n    this.props.callback(sortKey);\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    var optionElements = [];\n    for(const option of this.state.filteredOptions) {\n      const optionString = this.getOptionString(option);\n      const displayString = option[this.props.displayKey];\n      const sortKey = option[GLOBAL_SORT_KEY];\n      optionElements.push(\n        <li onClick={() => this.handleOptionSelect(sortKey, displayString)}\n            key={sortKey}>\n            {optionString}\n        </li>\n      );\n    }\n\n    return (\n      <div onBlur={this.handleBlur} className=\"Search-select\">\n        <input className={this.state.loading ? \"Askd-form-loading\" : \"\"}\n               onChange={this.handleChange} autoComplete=\"off\" type=\"text\"\n               value={this.state.searchTerm} onFocus={this.handleFocus}\n               name={this.props.name} id={this.props.id}\n               disabled={!this.props.search || this.state.loading} />\n        {\n          optionElements.length > 0 && this.state.showOptions &&\n          <ol id={`Select-options-${this.props.name}`} tabIndex=\"-1\"\n              className=\"Search-select-options\">\n            { optionElements }\n          </ol>\n        }\n      </div>\n    );\n  }\n}\n\nexport default SearchSelect;\n","const ApiConstants = Object.freeze({\n  API_ENDPOINT: 'https://qqmeusmrfk.execute-api.us-east-1.amazonaws.com/prod/'\n});\n\nexport default ApiConstants;\n","import queryString from 'query-string';\nimport ApiConstants from './ApiConstants';\nimport UserAuthApi from './UserAuthApi';\n\nclass Api {\n  static createApiError(name, message) {\n    const err = Error(message);\n    err.name = name;\n\n    return err;\n  }\n\n  static async manageResponseError(response) {\n    if(response.status === 400) {\n      const responseJson = await response.json();\n      throw Api.createApiError(responseJson.name, responseJson.message);\n    }\n    else if(response.status !== 200) {\n      throw Error('Request failed!');\n    }\n  }\n\n  static async sendRequestBody(resource, options, method) {\n    const accessToken = await UserAuthApi.getAccessToken();\n\n    const response = await fetch(ApiConstants.API_ENDPOINT + resource, {\n      method: method,\n      body: JSON.stringify(options),\n      headers: {\n        Authorization: accessToken\n      }\n    });\n\n    await Api.manageResponseError(response);\n    return await response.json();\n  }\n\n  static async getJson(resource, options) {\n    const path = `${resource}?${queryString.stringify(options)}`;\n    const accessToken = await UserAuthApi.getAccessToken();\n\n    const response = await fetch(ApiConstants.API_ENDPOINT + path, {\n      headers: {\n        Authorization: accessToken\n      }\n    });\n\n    await Api.manageResponseError(response);\n    return await response.json();\n  }\n\n  static async postJson(resource, options) {\n    return await Api.sendRequestBody(resource, options, 'POST');\n  }\n\n  static async putJson(resource, options) {\n    return await Api.sendRequestBody(resource, options, 'PUT');\n  }\n\n  static async deleteJson(resource, options) {\n    return await Api.sendRequestBody(resource, options, 'DELETE');\n  }\n}\n\nexport default Api;\n","const SolvedState = Object.freeze({\n  SOLVED: { value: 0, text: 'Solved', css: 'solved' },\n  UPSOLVED: { value: 1, text: 'Upsolved', css: 'upsolved' },\n  UPSOLVED_HELP: { value: 2, text: 'Upsolved with help', css: 'upsolved-help' },\n  UNSOLVED: { value: 3, text: 'Unsolved', css: 'unsolved' }\n});\n\nexport default SolvedState;\n","import Api from './Api';\nimport SolvedState from '../Enum/SolvedState';\n\nclass ProblemsApi {\n  static _prettifyProblems(problems) {\n    for(let i = 0; i < problems.length; i++) {\n      problems[i].prettySk = problems[i].sk.replaceAll('#', '');\n    }\n  }\n\n  static async getContests(platform) {\n    const options = {\n      platform: platform\n    };\n\n    return await Api.getJson('contests', options);\n  }\n\n  static async getProblems(platform, contestId) {\n    const options = {\n      platform: platform,\n      contestId: contestId\n    };\n\n    let problems = await Api.getJson('problems', options);\n    ProblemsApi._prettifyProblems(problems);\n\n    return problems;\n  }\n\n  static async getProblemInfo(platform, problemId) {\n    const options = {\n      platform: platform,\n      problemId: problemId\n    };\n\n    return await Api.getJson('problems', options);\n  }\n\n  static getSolvedStateText(solvedStateValue) {\n    solvedStateValue = parseInt(solvedStateValue);\n    for(const state in SolvedState) {\n      if(SolvedState[state].value === solvedStateValue) {\n        return SolvedState[state].text;\n      }\n    }\n  }\n\n  static getSolvedStateCssClass(solvedStateValue) {\n    solvedStateValue = parseInt(solvedStateValue);\n    for(const state in SolvedState) {\n      if(SolvedState[state].value === solvedStateValue) {\n        return SolvedState[state].css;\n      }\n    }\n  }\n}\n\nexport default ProblemsApi;\n","import React, { Component } from 'react';\nimport Utils from '../Utils';\nimport SearchSelect from '../SearchSelect/SearchSelect';\nimport ProblemsApi from '../Api/ProblemsApi';\nimport '../css/AddProblemForm.css';\n\nclass AddProblemForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      platform: null,\n      contestSortKey: null,\n      problemSortKey: null,\n      skipContestSearch: false\n    };\n\n    this.close = this.close.bind(this);\n    this.handlePlatformChange = this.handlePlatformChange.bind(this);\n    this.toggleSkipContestSearch = this.toggleSkipContestSearch.bind(this);\n    this.updateProblemSortKey = this.updateProblemSortKey.bind(this);\n    this.updateContestSortKey = this.updateContestSortKey.bind(this);\n    this.addProblem = this.addProblem.bind(this);\n  }\n\n  close() {\n    this.props.callback(null, null, null);\n  }\n\n  async handlePlatformChange(event) {\n    await Utils.setStatePromise(this, {\n      platform: event.target.value\n    });\n  }\n\n  async toggleSkipContestSearch(event) {\n    await Utils.setStatePromise(this, {\n      skipContestSearch: !this.state.skipContestSearch,\n      contestSortKey: null,\n      problemSortKey: null\n    });\n  }\n\n  async updateContestSortKey(sortKey) {\n    await Utils.setStatePromise(this, {\n      contestSortKey: sortKey,\n      problemSortKey: null\n    });\n  }\n\n  async updateProblemSortKey(sortKey) {\n    await Utils.setStatePromise(this, {\n      problemSortKey: sortKey\n    });\n  }\n\n  async addProblem(event) {\n    event.preventDefault();\n\n    if(!this.state.problemSortKey) {\n      await Utils.componentSetError(this, 'Please search and select a problem.');\n      return;\n    }\n\n    this.props.callback(this.state.problemSortKey, this.state.platform, this);\n  }\n\n  render() {\n    var searchContestFunction = null;\n    var searchContestKey = null;\n    if(this.state.platform && !this.state.skipContestSearch) {\n      searchContestFunction = () => ProblemsApi.getContests(this.state.platform);\n      searchContestKey = this.state.platform;\n    }\n\n    var searchProblemFunction = null;\n    var searchProblemKey = null;\n    if(this.state.platform && this.state.contestSortKey) {\n      searchProblemFunction = () =>\n        ProblemsApi.getProblems(this.state.platform, this.state.contestSortKey);\n      searchProblemKey = this.state.platform + this.state.contestSortKey;\n    }\n    else if(this.state.platform && this.state.skipContestSearch) {\n      searchProblemFunction = () => ProblemsApi.getProblems(this.state.platform);\n      searchProblemKey = this.state.platform;\n    }\n\n    var skipButtonText = this.state.skipContestSearch ?\n                         'Want to filter by contest?' :\n                         'Want to skip filtering by contest?';\n\n    return (\n      <div className=\"Module-blocker\">\n        <button onClick={this.close}\n                className=\"Askd-form-close Askd-button Askd-button-circular\">\n                X\n        </button>\n        <div className=\"Add-problem-form Module-popup\">\n          { this.state.error && <h2>{this.state.error}</h2> }\n          <h2>Add a problem!</h2>\n          <form className=\"Askd-form\" onSubmit={this.addProblem}>\n            <label htmlFor=\"cp-platform\">Platform</label>\n            <select defaultValue=\"\" onChange={this.handlePlatformChange}\n                    name=\"platform\" id=\"cp-platform\">\n              <option disabled value=\"\"></option>\n              <option value=\"CodeForces\">CodeForces</option>\n              <option value=\"CodeChef\">CodeChef</option>\n            </select>\n\n            <label htmlFor=\"cp-contest\">Contest</label>\n            <SearchSelect name='contest' id='cp-contest' search={searchContestFunction}\n                          keys={['sk', 'name']} callback={this.updateContestSortKey}\n                          displayKey='name' staticKey={searchContestKey} />\n\n            <button onClick={this.toggleSkipContestSearch}\n                    type=\"button\" className=\"Askd-form-link Askd-form-link-separator\">\n              { skipButtonText }\n            </button>\n\n            <label htmlFor=\"cp-title\">Problem</label>\n            <SearchSelect name='title' id='cp-title' search={searchProblemFunction}\n                          keys={['prettySk', 'name']} callback={this.updateProblemSortKey}\n                          displayKey='name' staticKey={searchProblemKey} />\n\n            <input className=\"Askd-button Module-popup-last\" type=\"submit\"\n                   value=\"Add Problem\" />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddProblemForm;\n","import Api from './Api';\n\nclass NotesApi {\n  static async getNotes(username) {\n    const options = {\n      username: username\n    };\n\n    return await Api.getJson('notes', options);\n  }\n\n  static async getNoteInfo(username, platform, problemId, forcePublished) {\n    const options = {\n      username: username,\n      platform: platform,\n      problemId: problemId,\n      forcePublished: forcePublished\n    };\n\n    return await Api.getJson('notes', options);\n  }\n\n  static async addNote(username, platform, problemId) {\n    const options = {\n      username: username,\n      platform: platform,\n      problemId: problemId\n    };\n\n    return await Api.postJson('notes', options);\n  }\n\n  static async editNote(username, platform, problemId, title, solved,\n                        content, published) {\n    const options = {\n      username: username,\n      platform: platform,\n      problemId: problemId,\n      title: title,\n      solved: solved,\n      content: content,\n      published: published\n    };\n\n    return await Api.putJson('notes', options);\n  }\n\n  static async deleteNote(username, platform, problemId) {\n    const options = {\n      username: username,\n      platform: platform,\n      problemId: problemId\n    };\n\n    return await Api.deleteJson('notes', options);\n  }\n}\n\nexport default NotesApi;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ProblemsApi from '../Api/ProblemsApi';\n\nclass UserNoteInfo extends Component {\n  render() {\n    const info = this.props.info;\n\n    const solvedClass = ProblemsApi.getSolvedStateCssClass(info.solved);\n    const problemUrl = info.problemSk.replace('#', '/');\n    const publishedClass = info.published ? 'published' : 'unpublished';\n    const timestamp = (new Date(info.editedTime)).toLocaleDateString();\n    const authorUsername = info.username;\n\n    return (\n      <li className={`User-note-info User-note-info-${solvedClass}`}>\n        <ul className=\"User-note-info-links\">\n          {\n            this.props.loggedInUsername === authorUsername &&\n            <li>\n              <Link className=\"Askd-form-link\"\n                    to={`/notes/edit/${info.platform}/${problemUrl}`}>\n                Edit\n              </Link>\n            </li>\n          }\n          {\n            info.published &&\n            <li>\n              <Link className=\"Askd-form-link\"\n                    to={`/notes/${authorUsername}/${info.platform}/${problemUrl}`}>\n                View\n              </Link>\n            </li>\n          }\n        </ul>\n        <h5>\n          {info.platform} {info.problemCode} - {info.problemName}\n        </h5>\n        <h6 className=\"User-note-info-title\">\n          {info.title}\n        </h6>\n        <h6 className=\"User-note-info-timestamp\">\n          {timestamp}\n        </h6>\n        <ul className=\"User-note-info-tags\">\n          <li className=\"User-note-info-tag User-note-solved-indicator\" />\n          <li className={`User-note-info-tag User-note-tag-${publishedClass}`} />\n        </ul>\n      </li>\n    );\n  }\n}\n\nexport default UserNoteInfo;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ProblemsApi from '../Api/ProblemsApi';\n\nclass UserContestInfo extends Component {\n  render() {\n    const info = this.props.info;\n\n    let noteElements = [];\n    for(let i = 0; i < info.notes.length; i++) {\n      const note = info.notes[i];\n      const problemCode = note.problemSk.split('#')[1];\n      const problemUrl = note.problemSk.replace('#', '/');\n      const authorUsername = note.username;\n\n      let codeClassName = 'User-note-contest-code';\n      if(problemCode.length >= 3) {\n        codeClassName += '-small';\n      }\n\n      const solvedClass = ProblemsApi.getSolvedStateCssClass(note.solved);\n\n      noteElements.push(\n        <li key={i} className={`User-note-contest-note User-note-contest-${solvedClass}`}>\n          <ul className=\"User-note-contest-links\">\n            {\n              this.props.loggedInUsername === authorUsername &&\n              <li>\n                <Link className=\"Askd-form-link\"\n                      to={`/notes/edit/${note.platform}/${problemUrl}`}>\n                  Edit\n                </Link>\n              </li>\n            }\n            {\n              note.published &&\n              <li>\n                <Link className=\"Askd-form-link\"\n                      to={`/notes/${authorUsername}/${note.platform}/${problemUrl}`}>\n                  View\n                </Link>\n              </li>\n            }\n          </ul>\n          <span className={codeClassName}>\n            {problemCode}\n          </span>\n        </li>\n      );\n    }\n\n    const timestamp = (new Date(info.editedTime)).toLocaleDateString();\n\n    return (\n      <li className=\"User-note-info\">\n        <h5>\n          {info.contestName}\n        </h5>\n        <h6 className=\"User-note-contest-timestamp\">\n          {timestamp}\n        </h6>\n        <ul className=\"User-note-contest-notes\">\n          { noteElements }\n        </ul>\n      </li>\n    );\n  }\n}\n\nexport default UserContestInfo;\n","import React from 'react';\n\nfunction UserNotesTitleDropdown({ title, innerContent, showing, toggleCallback }) {\n  const showText = showing ? 'Hide' : 'Show';\n\n  return (\n    <li className=\"User-notes-title-dropdown\">\n      <button className=\"User-notes-title-dropdown-showhide Askd-form-link\"\n              onClick={toggleCallback}>\n        { showText }\n      </button>\n      <h4 className=\"User-notes-title-dropdown-heading\">\n        {title}\n      </h4>\n      { showing && innerContent }\n    </li>\n  );\n}\n\nexport default UserNotesTitleDropdown;\n","class VirtualPaginator {\n  constructor(pageSize, content) {\n    this.pageSize = pageSize;\n    this.setContent(content);\n  }\n\n  setContent(content) {\n    this.content = [];\n    this.activeItems = content.length;\n\n    for(let i = 0; i < content.length; i++) {\n      let item = content[i];\n      item.paginatorActive = true;\n      this.content.push(item);\n    }\n  }\n\n  toggleActiveItems(indices) {\n    for(const index of indices) {\n      const active = this.content[index].paginatorActive;\n      this.content[index].paginatorActive = !active;\n\n      if(active) {\n        this.activeItems--;\n      }\n      else {\n        this.activeItems++;\n      }\n    }\n  }\n\n  getContent(pageIndex) {\n    let currentIndex = 1;\n    let activeBufferSize = 0;\n    let itemBuffer = [];\n\n    for(const item of this.content) {\n      itemBuffer.push(item);\n      if(item.paginatorActive) {\n        activeBufferSize++;\n        if(activeBufferSize === this.pageSize) {\n          if(currentIndex === pageIndex)\n            return itemBuffer;\n          itemBuffer = [];\n          activeBufferSize = 0;\n          currentIndex++;\n        }\n      }\n    }\n\n    if(currentIndex === pageIndex) {\n      return itemBuffer;\n    }\n\n    throw Error('Page index out of range!');\n  }\n\n  getPageCount() {\n    let pageCount = 0;\n    let bufferSize = 0;\n    let activeBufferSize = 0;\n    for(const item of this.content) {\n      if(bufferSize === 0) {\n        pageCount++;\n      }\n\n      bufferSize++;\n      if(item.paginatorActive) {\n        activeBufferSize++;\n      }\n      if(activeBufferSize === this.pageSize) {\n        activeBufferSize = 0;\n        bufferSize = 0;\n      }\n    }\n\n    return pageCount;\n  }\n}\n\nexport default VirtualPaginator;\n","import React from 'react';\nimport '../css/Paginator.css';\n\nfunction Paginator({ currentPage, totalPages, callback }) {\n  let pageIndices = [ currentPage ];\n\n  let after = currentPage + 1;\n  let increment = 2;\n  while(after < totalPages) {\n    pageIndices.push(after);\n    after += increment;\n    increment *= 2;\n  }\n\n  let before = currentPage - 1;\n  increment = 2;\n  while(before > 1) {\n    pageIndices.push(before);\n    before -= increment;\n    increment *= 2;\n  }\n\n  if(currentPage !== 1)\n    pageIndices.push(1);\n  if(currentPage !== totalPages && totalPages > 1)\n    pageIndices.push(totalPages);\n\n  pageIndices.sort((a, b) => a - b);\n\n  let paginatorButtons = [];\n  for(const pageIndex of pageIndices) {\n    const buttonClassName = (pageIndex === currentPage) ?\n      'Paginator-list-selected' : 'Askd-form-link';\n    paginatorButtons.push(\n      <li key={pageIndex}>\n        <button className={buttonClassName} onClick={() => callback(pageIndex)}>\n          {pageIndex}\n        </button>\n      </li>\n    );\n  }\n\n  return (\n    <div className=\"Paginator\">\n      <ul className=\"Paginator-list\">\n        { paginatorButtons }\n      </ul>\n    </div>\n  );\n}\n\nexport default Paginator;\n","import React, { Component } from 'react';\nimport UserNoteInfo from './UserNoteInfo';\nimport UserContestInfo from './UserContestInfo';\nimport UserNotesTitleDropdown from './UserNotesTitleDropdown';\nimport VirtualPaginator from '../Paginator/VirtualPaginator';\nimport Paginator from '../Paginator/Paginator';\nimport ProblemsApi from '../Api/ProblemsApi';\nimport UserAuthApi from '../Api/UserAuthApi';\nimport Utils from '../Utils';\n\nconst RecursionLevel = Object.freeze({\n  CONTEST: 0,\n  PLATFORM: 1,\n  SOLVED: 2\n});\nconst PAGINATE_SIZE = 15;\n\nfunction compareByRecent(note1, note2) {\n  if(note1.editedTime > note2.editedTime)\n    return -1;\n  return 1;\n}\n\nfunction groupByAttributes(objectList, attributes) {\n  let attributeGroups = {};\n  for(const obj of objectList) {\n    let attributeValues = [];\n    for(const attribute of attributes) {\n      attributeValues.push(obj[attribute]);\n    }\n\n    const key = attributeValues.join('#');\n    if(attributeGroups.hasOwnProperty(key)) {\n      attributeGroups[key].push(obj);\n    }\n    else {\n      attributeGroups[key] = [ obj ];\n    }\n  }\n\n  return attributeGroups;\n}\n\nclass UserNotesList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      page: 1,\n      loggedInUsername: null\n    };\n\n    this.sortNoteItems(this.props.notes);\n    this.virtualPaginator = new VirtualPaginator(PAGINATE_SIZE, this.sortedNoteItems);\n\n    this.updatePage = this.updatePage.bind(this);\n  }\n\n  async componentDidMount() {\n    const loggedInUsername = await UserAuthApi.getUsername();\n    await Utils.setStatePromise(this, {\n      loggedInUsername: loggedInUsername\n    });\n  }\n\n  createContestObject(notes) {\n    const firstNote = notes[0];\n    let contestObject = {\n      contestCode: firstNote.contestCode,\n      contestName: firstNote.contestName,\n      platform: firstNote.platform,\n      editedTime: firstNote.editedTime,\n      notes: []\n    };\n\n    if(this.props.organizeBySolved)\n      contestObject.solved = firstNote.solved;\n    if(this.props.organizeByPlatform)\n      contestObject.platform = firstNote.platform;\n\n    for(const note of notes) {\n      contestObject.notes.push(note);\n      if(note.editedTime > contestObject.editedTime) {\n        contestObject.editedTime = note.editedTime;\n      }\n    }\n\n    return contestObject;\n  }\n\n  sortNoteItems(notes, recursionLevel = RecursionLevel.SOLVED, keyString = '') {\n    let paginatorIndices = [];\n    if(recursionLevel === RecursionLevel.CONTEST) {\n      if(this.props.organizeByContest) {\n        const contestGroups = groupByAttributes(notes, ['platform', 'contestCode']);\n        for(const key in contestGroups) {\n          let contestObject = this.createContestObject(contestGroups[key]);\n          paginatorIndices.push(this.sortedNoteItems.length);\n          this.sortedNoteItems.push(contestObject);\n        }\n      }\n      else {\n        for(const note of notes) {\n          paginatorIndices.push(this.sortedNoteItems.length);\n          this.sortedNoteItems.push(note);\n        }\n      }\n    }\n    else {\n      let organize, attributeString;\n      if(recursionLevel === RecursionLevel.SOLVED) {\n        this.sortedNoteItems = [];\n        this.dropdownShowing = {};\n        this.dropdownIndices = {};\n\n        if(this.props.sortByRecent) {\n          notes = [...notes].sort(compareByRecent);\n        }\n\n        organize = this.props.organizeBySolved;\n        attributeString = 'solved';\n      }\n      else {\n        organize = this.props.organizeByPlatform;\n        attributeString = 'platform';\n      }\n\n      if(organize) {\n        const groups = groupByAttributes(notes, [attributeString]);\n        for(const key in groups) {\n          const innerKeyString = `${keyString}#${key}`;\n          const innerIndices =\n            this.sortNoteItems(groups[key], recursionLevel - 1, innerKeyString);\n\n          this.dropdownShowing[innerKeyString] = true;\n          this.dropdownIndices[innerKeyString] = innerIndices;\n\n          for(const index of innerIndices) {\n            paginatorIndices.push(index);\n          }\n        }\n      }\n      else {\n        return this.sortNoteItems(notes, recursionLevel - 1, keyString);\n      }\n    }\n\n    return paginatorIndices;\n  }\n\n  renderNoteItems(notes, recursionLevel = RecursionLevel.SOLVED, keyString = '') {\n    let noteInfoElements = [];\n    if(recursionLevel === RecursionLevel.CONTEST) {\n      let NoteComponent =\n        this.props.organizeByContest ? UserContestInfo : UserNoteInfo;\n\n      for(let i = 0; i < notes.length; i++) {\n        noteInfoElements.push(\n          <NoteComponent key={i} info={notes[i]}\n                         loggedInUsername={this.state.loggedInUsername} />\n        );\n      }\n    }\n    else {\n      let organize, attributeString;\n      if(recursionLevel === RecursionLevel.SOLVED) {\n        organize = this.props.organizeBySolved;\n        attributeString = 'solved';\n      }\n      else {\n        organize = this.props.organizeByPlatform;\n        attributeString = 'platform';\n      }\n\n      if(organize) {\n        const groups = groupByAttributes(notes, [attributeString]);\n        for(const key in groups) {\n          const innerKeyString = `${keyString}#${key}`;\n          const innerContent =\n            this.renderNoteItems(groups[key], recursionLevel - 1, innerKeyString);\n          const title = (recursionLevel === RecursionLevel.SOLVED) ?\n            ProblemsApi.getSolvedStateText(key) : key;\n\n          const showing = this.dropdownShowing[innerKeyString];\n          const innerIndices = this.dropdownIndices[innerKeyString];\n          const toggleCallback = async () => {\n            this.virtualPaginator.toggleActiveItems(innerIndices);\n            this.dropdownShowing[innerKeyString] = !this.dropdownShowing[innerKeyString];\n\n            const totalPages = this.virtualPaginator.getPageCount();\n            if(this.state.page > totalPages) {\n              await this.updatePage(totalPages);\n            }\n\n            this.forceUpdate();\n          };\n\n          noteInfoElements.push(\n            <UserNotesTitleDropdown key={key} title={title}\n                                    innerContent={innerContent} showing={showing}\n                                    toggleCallback={toggleCallback} />\n          );\n        }\n      }\n      else {\n        return this.renderNoteItems(notes, recursionLevel - 1);\n      }\n    }\n\n    return (\n      <ul className=\"User-notes-list\">\n        { noteInfoElements }\n      </ul>\n    );\n  }\n\n  async updatePage(page) {\n    await Utils.setStatePromise(this, {\n      page: page\n    });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Only re-sort note items on an (important) props update\n    const importantProps = [\n      'organizeBySolved',\n      'organizeByPlatform',\n      'organizeByContest',\n      'sortByRecent'\n    ];\n    const currentImportantProps = importantProps.map((x) => this.props[x]);\n    const nextImportantProps = importantProps.map((x) => nextProps[x]);\n\n    if(JSON.stringify(currentImportantProps) !== JSON.stringify(nextImportantProps)) {\n      this.props = nextProps;\n      this.sortNoteItems(this.props.notes);\n      this.virtualPaginator.setContent(this.sortedNoteItems);\n\n      if(this.state.page !== 1) {\n        this.updatePage(1);\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  render() {\n    if(this.props.notes.length === 0) {\n      return (\n        <p className=\"User-notes-nothing\">There's nothing to see here yet!</p>\n      );\n    }\n\n    const noteItems = this.virtualPaginator.getContent(this.state.page);\n    const totalPages = this.virtualPaginator.getPageCount();\n    const paginator = (\n      <Paginator currentPage={this.state.page} totalPages={totalPages}\n                 callback={this.updatePage} />\n    );\n\n    return (\n      <>\n        { paginator }\n        { this.renderNoteItems(noteItems) }\n        { paginator }\n      </>\n    );\n  }\n}\n\nexport default UserNotesList;\n","import React, { Component } from 'react';\nimport AddProblemForm from './AddProblemForm';\nimport NotesApi from '../Api/NotesApi';\nimport UserNotesList from './UserNotesList';\nimport Utils from '../Utils';\nimport '../css/UserNotes.css';\n\nclass UserNotes extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showAddProblemForm: false,\n      organizeBySolved: false,\n      organizeByPlatform: false,\n      organizeByContest: false,\n      sortByRecent: false\n    };\n\n    this.toggleAddProblemForm = this.toggleAddProblemForm.bind(this);\n    this.toggleOrganizeBySolved = this.toggleOrganizeBySolved.bind(this);\n    this.toggleOrganizeByPlatform = this.toggleOrganizeByPlatform.bind(this);\n    this.toggleOrganizeByContest = this.toggleOrganizeByContest.bind(this);\n    this.toggleSortByRecent = this.toggleSortByRecent.bind(this);\n    this.addProblem = this.addProblem.bind(this);\n  }\n\n  async toggleAddProblemForm() {\n    await Utils.setStatePromise(this, {\n      showAddProblemForm: !this.state.showAddProblemForm\n    });\n  }\n\n  async toggleOrganizeBySolved() {\n    await Utils.setStatePromise(this, {\n      organizeBySolved: !this.state.organizeBySolved\n    });\n  }\n\n  async toggleOrganizeByPlatform() {\n    await Utils.setStatePromise(this, {\n      organizeByPlatform: !this.state.organizeByPlatform\n    });\n  }\n\n  async toggleOrganizeByContest() {\n    await Utils.setStatePromise(this, {\n      organizeByContest: !this.state.organizeByContest\n    });\n  }\n\n  async toggleSortByRecent() {\n    await Utils.setStatePromise(this, {\n      sortByRecent: !this.state.sortByRecent\n    });\n  }\n\n  async addProblem(problemSortKey, platform, formComponent) {\n    if(!problemSortKey) {\n      await this.toggleAddProblemForm();\n      return;\n    }\n\n    try {\n      const username = this.props.userInfo.username;\n      await NotesApi.addNote(username, platform, problemSortKey);\n\n      const problemUrl = problemSortKey.replace('#', '/');\n      this.props.history.push(`/notes/edit/${platform}/${problemUrl}`);\n    }\n    catch(err) {\n      await Utils.componentSetError(formComponent, err.message);\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <h2 className=\"Module-heading\">Problems</h2>\n        {\n          this.state.showAddProblemForm &&\n          <AddProblemForm callback={this.addProblem} />\n        }\n        <form>\n          <div className=\"User-notes-organize\">\n            <label>\n              <b>Organize by</b>\n            </label>\n            <input type=\"checkbox\" name=\"solved\" value=\"solved\"\n                   onChange={this.toggleOrganizeBySolved} />\n            <label htmlFor=\"solved\">Solved</label>\n            <input type=\"checkbox\" name=\"platform\" value=\"platform\"\n                   onChange={this.toggleOrganizeByPlatform} />\n            <label htmlFor=\"platform\">Platform</label>\n            <input type=\"checkbox\" name=\"contest\" value=\"contest\"\n                   onChange={this.toggleOrganizeByContest} />\n            <label htmlFor=\"contest\">Contest</label>\n          </div>\n          <div className=\"User-notes-organize\">\n            <label htmlFor=\"sort\">\n              <b>Sort by</b>\n            </label>\n            <select defaultValue=\"default\" name=\"sort\"\n                    onChange={this.toggleSortByRecent}>\n              <option value=\"default\">Default</option>\n              <option value=\"recent\">Recent</option>\n            </select>\n          </div>\n        </form>\n        <div className=\"User-notes Module-space\">\n          <UserNotesList organizeBySolved={this.state.organizeBySolved}\n                         organizeByPlatform={this.state.organizeByPlatform}\n                         organizeByContest={this.state.organizeByContest}\n                         sortByRecent={this.state.sortByRecent}\n                         notes={this.props.notes} />\n          {\n            this.props.userInfo.email &&\n            <button onClick={this.toggleAddProblemForm}\n                    className=\"User-notes-add Askd-button Askd-button-circular\">\n              +\n            </button>\n          }\n        </div>\n      </>\n    );\n  }\n}\n\nexport default UserNotes;\n","import Api from './Api';\n\nclass UserApi {\n  static async getUserInfo(username) {\n    const options = {\n      username: username\n    };\n\n    return await Api.getJson('profile', options);\n  }\n}\n\nexport default UserApi;\n","const LoadState = Object.freeze({\n  LOADING: 0,\n  DONE: 1,\n  NOT_FOUND: 2\n});\n\nexport default LoadState;\n","import React, { Component } from 'react';\nimport UserInfo from './UserInfo';\nimport UserNotes from './UserNotes';\nimport UserApi from '../Api/UserApi';\nimport NotesApi from '../Api/NotesApi';\nimport LoadState from '../Enum/LoadState';\nimport Utils from '../Utils';\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      screen: LoadState.LOADING,\n      userInfo: null,\n      notes: null\n    };\n  }\n\n  async getUserInfo() {\n    const username = this.props.match.params.username;\n    return await UserApi.getUserInfo(username);\n  }\n\n  async getNotes() {\n    const username = this.props.match.params.username;\n    return await NotesApi.getNotes(username);\n  }\n\n  async loadInfo() {\n    try {\n      const userInfo = await this.getUserInfo();\n      const notes = await this.getNotes();\n      await Utils.setStatePromise(this, {\n        screen: LoadState.DONE,\n        userInfo: userInfo,\n        notes: notes\n      });\n    }\n    catch(err) {\n      if(err.name === 'UserNotFound') {\n        await Utils.setStatePromise(this, {\n          screen: LoadState.NOT_FOUND\n        });\n      }\n    }\n  }\n\n  async componentDidMount() {\n    await this.loadInfo();\n  }\n\n  async componentDidUpdate(prevProps) {\n    if(prevProps.match.params.username !== this.props.match.params.username) {\n      await Utils.setStatePromise(this, {\n        screen: LoadState.LOADING,\n        info: null\n      });\n      await this.loadInfo();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const loadingContent = null;\n    const loadedContent = (\n      <>\n        <div className=\"Module-description\">\n          <UserInfo info={this.state.userInfo} />\n        </div>\n        <UserNotes userInfo={this.state.userInfo} notes={this.state.notes}\n                   history={this.props.history} />\n      </>\n    );\n    const userNotFoundContent = (\n      <div className=\"Module-description\">\n        <h2>User not found!</h2>\n      </div>\n    );\n\n    var content;\n    switch(this.state.screen) {\n      case LoadState.LOADING:\n        content = loadingContent;\n        break;\n      case LoadState.DONE:\n        content = loadedContent;\n        break;\n      case LoadState.NOT_FOUND:\n        content = userNotFoundContent;\n        break;\n      default:\n    }\n\n    return (\n      <>\n        <div className=\"Module-wrapper\">\n          { content }\n        </div>\n      </>\n    );\n  }\n}\n\nexport default UserProfile;\n","import React, { Component } from 'react';\nimport UserAuthApi from '../Api/UserAuthApi';\nimport NotesApi from '../Api/NotesApi';\nimport Utils from '../Utils';\nimport { v4 as uuidv4 } from 'uuid';\n\nclass DeleteMenu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: ''\n    };\n    this.randomCode = uuidv4();\n\n    this.close = this.close.bind(this);\n    this.deleteNote = this.deleteNote.bind(this);\n  }\n\n  close() {\n    this.props.exitCallback();\n  }\n\n  async deleteNote(event) {\n    event.preventDefault();\n\n    const confirmCode = event.target.confirmCode.value;\n    if(confirmCode !== this.randomCode) {\n      await Utils.componentSetError(this, \"Your confirmation code doesn't match!\");\n      return;\n    }\n\n    try {\n      const username = await UserAuthApi.getUsername();\n      const platform = this.props.platform;\n      const problemId = this.props.problemInfo.problemId;\n\n      await NotesApi.deleteNote(username, platform, problemId);\n      this.props.history.push(`/users/${username}`);\n    }\n    catch(err) {\n      await Utils.componentSetError(this, err.message);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Module-blocker\">\n        <button onClick={this.close}\n                className=\"Askd-form-close Askd-button Askd-button-circular\">\n          X\n        </button>\n        <div className=\"Edit-note-delete-menu Module-popup\">\n          { this.state.error && <h2>{this.state.error}</h2> }\n          <h2>Are you sure you want to permanently delete this note?</h2>\n          <p>\n            This action cannot be undone! Please enter the following\n            code as confirmation.\n          </p>\n          <form className=\"Askd-form\" onSubmit={this.deleteNote}>\n            <label htmlFor=\"confirmCode\">{this.randomCode}</label>\n            <input autoComplete=\"off\" type=\"text\" name=\"confirmCode\"\n                   key=\"confirmCode\" id=\"confirmCode\" />\n\n            <input className=\"Askd-button\" type=\"submit\" value=\"Delete\" />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DeleteMenu;\n","import React, { Component } from 'react';\nimport { Prompt } from 'react-router';\nimport TextEditor from '../TextEditor/TextEditor';\nimport DeleteMenu from './DeleteMenu';\nimport SolvedState from '../Enum/SolvedState';\nimport UserAuthApi from '../Api/UserAuthApi';\nimport NotesApi from '../Api/NotesApi';\nimport Utils from '../Utils';\n\nfunction remindUserToSave(event) {\n  event.preventDefault();\n  event.returnValue = '';\n}\n\nclass EditNoteForm extends Component {\n  constructor(props) {\n    super(props);\n\n    const noteInfo = this.props.noteInfo;\n    this.title = noteInfo.title;\n    this.solved = noteInfo.solved;\n    this.content = JSON.parse(noteInfo.content);\n    this.lastSaved = new Date(noteInfo.editedTime);\n\n    this.state = {\n      published: noteInfo.published,\n      disableEditButtons: false,\n      saved: true,\n      loadingSave: false,\n      loadingPublish: false,\n      showDeleteMenu: false\n    };\n\n    this.saveNote = this.saveNote.bind(this);\n    this.togglePublishNote = this.togglePublishNote.bind(this);\n    this.toggleDeleteMenu = this.toggleDeleteMenu.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.handleSolvedChange = this.handleSolvedChange.bind(this);\n    this.handleContentChange = this.handleContentChange.bind(this);\n  }\n\n  async saveOrPublishNote(published) {\n    const username = await UserAuthApi.getUsername();\n    const platform = this.props.platform;\n    const problemId = this.props.problemInfo.problemId;\n    const title = this.title;\n    const solved = this.solved;\n    const content = JSON.stringify(this.content);\n\n    await NotesApi.editNote(username, platform, problemId, title, solved,\n                            content, published);\n\n    this.lastSaved = new Date();\n    window.onbeforeunload = null;\n\n    await Utils.setStatePromise(this, {\n      published: published,\n      disableEditButtons: false,\n      saved: true,\n      loadingSave: false,\n      loadingPublish: false\n    });\n  }\n\n  async saveNote(event) {\n    await Utils.setStatePromise(this, {\n      disableEditButtons: true,\n      loadingSave: true\n    });\n\n    await this.saveOrPublishNote(this.state.published);\n  }\n\n  async togglePublishNote(event) {\n    await Utils.setStatePromise(this, {\n      disableEditButtons: true,\n      loadingPublish: true\n    });\n\n    await this.saveOrPublishNote(!this.state.published);\n  }\n\n  async toggleDeleteMenu(event) {\n    await Utils.setStatePromise(this, {\n      showDeleteMenu: !this.state.showDeleteMenu\n    });\n  }\n\n  handleTitleChange(event) {\n    this.title = event.target.value;\n  }\n\n  handleSolvedChange(event) {\n    this.solved = event.target.value;\n  }\n\n  async handleContentChange(newContent) {\n    this.content = newContent;\n\n    if(this.state.saved) {\n      await Utils.setStatePromise(this, {\n        saved: false\n      });\n\n      window.onbeforeunload = remindUserToSave;\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    let savedText = this.state.saved ? 'All changes saved! - ' : 'Last saved on ';\n    savedText += this.lastSaved.toLocaleString();\n\n    const togglePublishText = this.state.published ? 'Unpublish' : 'Publish!';\n    let saveButtonClass = 'Askd-button Askd-not-fullwidth';\n    let publishButtonClass = 'Askd-button Askd-not-fullwidth';\n\n    if(this.state.loadingSave) saveButtonClass += ' Askd-form-loading';\n    if(this.state.loadingPublish) publishButtonClass += ' Askd-form-loading';\n\n    return (\n      <>\n        <Prompt when={!this.state.saved}\n                message='Are you sure you want to leave? You have unsaved changes.' />\n        {\n          this.state.showDeleteMenu &&\n          <DeleteMenu exitCallback={this.toggleDeleteMenu}\n                      platform={this.props.platform} history={this.props.history}\n                      problemInfo={this.props.problemInfo} />\n        }\n        <form className=\"Edit-note-form Askd-form\">\n          <input className=\"Edit-note-title\" name=\"title\" type=\"text\"\n                 defaultValue={this.title} placeholder=\"Title\"\n                 onChange={this.handleTitleChange} />\n\n          <select name=\"solved\" id=\"note-solved\" onChange={this.handleSolvedChange}\n                  defaultValue={this.solved}>\n            <option value={SolvedState.SOLVED.value}>Solved</option>\n            <option value={SolvedState.UPSOLVED.value}>Upsolved</option>\n            <option value={SolvedState.UPSOLVED_HELP.value}>Upsolved with help</option>\n            <option value={SolvedState.UNSOLVED.value}>Unsolved</option>\n          </select>\n\n          <TextEditor initialContent={this.content}\n                      onChange={this.handleContentChange} />\n          <p className=\"Edit-note-saved-text\">{savedText}</p>\n          <div className=\"Edit-note-bottom-buttons\">\n            <input className={saveButtonClass} type=\"button\" value=\"Save\"\n                   onClick={this.saveNote}\n                   disabled={this.state.disableEditButtons} />\n\n            <input className={publishButtonClass} type=\"button\"\n                   value={togglePublishText} onClick={this.togglePublishNote}\n                   disabled={this.state.disableEditButtons} />\n          </div>\n          <div className=\"Edit-note-delete\">\n            <button type=\"button\" className=\"Askd-form-link Askd-form-link-bottom\"\n                    onClick={this.toggleDeleteMenu}>\n              Permanently delete this note?\n            </button>\n          </div>\n        </form>\n      </>\n    );\n  }\n}\n\nexport default EditNoteForm;\n","import React, { Component } from 'react';\n\nclass ProblemInfo extends Component {\n  render() {\n    const info = this.props.info;\n\n    return (\n      <div className=\"Edit-note-problem-info\">\n        <div className=\"Module-info-box\">\n          <h4>\n            {this.props.platform} {info.problemCode} - {info.problemName}\n          </h4>\n          <p className=\"Edit-note-contest\">{info.contestName}</p>\n          <a className=\"Askd-form-link\" href={info.link}>Problem link</a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ProblemInfo;\n","import React, { Component } from 'react';\nimport LoadState from '../Enum/LoadState';\nimport EditNoteForm from './EditNoteForm';\nimport ProblemInfo from './ProblemInfo';\nimport ProblemsApi from '../Api/ProblemsApi'\nimport NotesApi from '../Api/NotesApi';\nimport UserAuthApi from '../Api/UserAuthApi';\nimport Utils from '../Utils';\nimport '../css/EditNote.css';\n\nclass EditNote extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      screen: LoadState.LOADING,\n      problemInfo: null,\n      noteInfo: null\n    };\n  }\n\n  async loadProblemInfo() {\n    const platform = this.props.match.params.platform;\n    const contestId = this.props.match.params.contestId;\n    const problemCode = this.props.match.params.problemCode;\n    const problemId = `${contestId}#${problemCode}`;\n\n    let problemInfo = await ProblemsApi.getProblemInfo(platform, problemId);\n    problemInfo.problemId = problemId;\n\n    return problemInfo;\n  }\n\n  async loadNoteInfo() {\n    const username = await UserAuthApi.getUsername();\n    const platform = this.props.match.params.platform;\n    const contestId = this.props.match.params.contestId;\n    const problemCode = this.props.match.params.problemCode;\n    const problemId = `${contestId}#${problemCode}`;\n\n    const noteInfo = await NotesApi.getNoteInfo(username, platform, problemId);\n\n    return noteInfo;\n  }\n\n  async loadInfo() {\n    const problemInfo = await this.loadProblemInfo();\n    const noteInfo = await this.loadNoteInfo();\n    \n    await Utils.setStatePromise(this, {\n      problemInfo: problemInfo,\n      noteInfo: noteInfo,\n      screen: LoadState.DONE\n    });\n  }\n\n  async componentDidMount() {\n    await this.loadInfo();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const platform = this.props.match.params.platform;\n\n    const loadingContent = null;\n    const loadedContent = (\n      <>\n        <ProblemInfo info={this.state.problemInfo} platform={platform} />\n        <EditNoteForm problemInfo={this.state.problemInfo}\n                      noteInfo={this.state.noteInfo} platform={platform}\n                      history={this.props.history} />\n      </>\n    );\n    const noteNotFoundContent = (\n      <div className=\"Module-description\">\n        <h2>Note does not exist!</h2>\n      </div>\n    );\n\n    let content;\n    switch(this.state.screen) {\n      case LoadState.LOADING:\n        content = loadingContent;\n        break;\n      case LoadState.DONE:\n        content = loadedContent;\n        break;\n      case LoadState.NOT_FOUND:\n        content = noteNotFoundContent;\n        break;\n      default:\n    }\n\n    return (\n      <div className=\"Module-wrapper\">\n        { content }\n      </div>\n    );\n  }\n}\n\nexport default EditNote;\n","import Api from './Api';\n\nclass LikesApi {\n  static async sendLike(username, noteAuthor, platform, problemId, likedStatus) {\n    const options = {\n      username: username,\n      noteAuthor: noteAuthor,\n      platform: platform,\n      problemId: problemId,\n      likedStatus: likedStatus\n    };\n\n    return await Api.putJson('likes/notes', options);\n  }\n}\n\nexport default LikesApi;\n","import React, { useState } from 'react';\nimport UserAuthApi from '../Api/UserAuthApi';\nimport '../css/LikeDislike.css';\n\nfunction LikeDislike({ initialScore, initialStatus, likeCallback }) {\n  let [ score, setScore ] = useState(initialScore);\n  let [ status, setStatus ] = useState(initialStatus);\n\n  let likeButtonClass = 'Like-button';\n  if(status > 0) {\n    likeButtonClass += ' Like-button-liked';\n  }\n\n  let toggleStatus = async () => {\n    const username = await UserAuthApi.getUsername();\n    if(!username) {\n      window.suggestUserRegister();\n      return;\n    }\n\n    if(status > 0) {\n      setStatus(0);\n      setScore(score - 1);\n      likeCallback(0);\n    }\n    else {\n      setStatus(1);\n      setScore(score + 1);\n      likeCallback(1);\n    }\n  };\n\n  return (\n    <div className=\"Like-dislike\">\n      <button className={likeButtonClass} onClick={toggleStatus}>\n        <span className=\"Like-dislike-score\">+{score}</span> I like this!\n      </button>\n    </div>\n  );\n}\n\nexport default LikeDislike;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ProblemsApi from '../Api/ProblemsApi';\nimport LikesApi from '../Api/LikesApi';\nimport UserAuthApi from '../Api/UserAuthApi';\nimport TextEditorContent from '../TextEditor/TextEditorContent';\nimport LikeDislike from '../Misc/LikeDislike';\nimport '../css/PublicNoteInfo.css';\n\nfunction PublicNoteInfo({ info }) {\n  const content = JSON.parse(info.content);\n  const editedTimestamp = (new Date(info.editedTime)).toLocaleString();\n  const solvedClass = ProblemsApi.getSolvedStateCssClass(info.solved);\n\n  let likeCallback = async (likedStatus) => {\n    const username = await UserAuthApi.getUsername();\n    const noteAuthor = info.username;\n    const platform = info.platform;\n    const problemId = info.problemSk;\n\n    await LikesApi.sendLike(username, noteAuthor, platform, problemId, likedStatus);\n  };\n\n  return (\n    <div className=\"Public-note-info Module-space Module-padding-box\">\n      <h3 className=\"Module-space-heading\">\n        <span className={`Public-note-solved-tag User-note-info-${solvedClass}`}>\n          <span className=\"User-note-info-tag User-note-solved-indicator\" />\n        </span>\n        {info.title}\n      </h3>\n      <p className=\"Module-space-text\">\n        Written by <Link className=\"Askd-form-link\" to={`/users/${info.username}`}>\n          {info.username}\n        </Link>\n      </p>\n      <div className=\"Askd-text-editor\">\n        <TextEditorContent content={content} id={null} editable={false} />\n      </div>\n      <p className=\"Module-space-text\">\n        Last edited on {editedTimestamp}\n      </p>\n      <LikeDislike initialScore={info.likeCount} initialStatus={info.likedStatus}\n                   likeCallback={likeCallback} />\n    </div>\n  );\n}\n\nexport default PublicNoteInfo;\n","import React, { Component } from 'react';\nimport LoadState from '../Enum/LoadState';\nimport ProblemInfo from '../EditNote/ProblemInfo';\nimport PublicNoteInfo from './PublicNoteInfo';\nimport ProblemsApi from '../Api/ProblemsApi';\nimport NotesApi from '../Api/NotesApi';\nimport Utils from '../Utils';\n\nclass PublicNote extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      screen: LoadState.LOADING,\n      problemInfo: null,\n      noteInfo: null\n    };\n  }\n\n  async loadProblemInfo() {\n    const platform = this.props.match.params.platform;\n    const contestId = this.props.match.params.contestId;\n    const problemCode = this.props.match.params.problemCode;\n    const problemId = `${contestId}#${problemCode}`;\n\n    let problemInfo = await ProblemsApi.getProblemInfo(platform, problemId);\n    problemInfo.problemId = problemId;\n\n    return problemInfo;\n  }\n\n  async loadNoteInfo() {\n    const ownerUsername = this.props.match.params.ownerUsername;\n    const platform = this.props.match.params.platform;\n    const contestId = this.props.match.params.contestId;\n    const problemCode = this.props.match.params.problemCode;\n    const problemId = `${contestId}#${problemCode}`;\n\n    const noteInfo = await NotesApi.getNoteInfo(ownerUsername, platform, problemId, true);\n    return noteInfo;\n  }\n\n  async loadInfo() {\n    const problemInfo = await this.loadProblemInfo();\n    const noteInfo = await this.loadNoteInfo();\n\n    await Utils.setStatePromise(this, {\n      problemInfo: problemInfo,\n      noteInfo: noteInfo,\n      screen: LoadState.DONE\n    });\n  }\n\n  async componentDidMount() {\n    await this.loadInfo();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const platform = this.props.match.params.platform;\n\n    const loadingContent = null;\n    const loadedContent = (\n      <>\n        <ProblemInfo info={this.state.problemInfo} platform={platform} />\n        <PublicNoteInfo info={this.state.noteInfo} />\n      </>\n    );\n    const noteNotFoundContent = (\n      <div className=\"Module-description\">\n        <h2>Note is either unpublished or does not exist!</h2>\n      </div>\n    );\n\n    let content;\n    switch(this.state.screen) {\n      case LoadState.LOADING:\n        content = loadingContent;\n        break;\n      case LoadState.DONE:\n        content = loadedContent;\n        break;\n      case LoadState.NOT_FOUND:\n        content = noteNotFoundContent;\n        break;\n      default:\n    }\n\n    return (\n      <div className=\"Module-wrapper\">\n        { content }\n      </div>\n    );\n  }\n}\n\nexport default PublicNote;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Header from './Header/Header';\nimport Home from './Home/Home';\nimport UserProfile from './UserProfile/UserProfile';\nimport EditNote from './EditNote/EditNote';\nimport PublicNote from './PublicNote/PublicNote';\n\nimport './css/App.css';\nimport './css/Module.css';\nimport './css/Form.css';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/home\" component={Home} />\n          <Route exact path=\"/users/:username\" component={UserProfile} />\n          <Route exact path=\"/notes/edit/:platform/:contestId/:problemCode\"\n                 component={EditNote} />\n          <Route exact path=\"/notes/:ownerUsername/:platform/:contestId/:problemCode\"\n                 component={PublicNote} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Amplify from 'aws-amplify';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport amplify_config from './amplify_config';\n\nAmplify.configure(amplify_config);\n\ndocument.body.addEventListener('mousedown', (event) => {\n  document.body.classList.add('Global-mouse-click');\n});\n\ndocument.body.addEventListener('keydown', (event) => {\n  if(event.keyCode === 9) {\n    document.body.classList.remove('Global-mouse-click');\n  }\n});\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}