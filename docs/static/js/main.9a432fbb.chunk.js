(this["webpackJsonpaskdfjlas.github.io"]=this["webpackJsonpaskdfjlas.github.io"]||[]).push([[0],{102:function(e){e.exports=JSON.parse('{"Auth":{"region":"us-east-1","userPoolId":"us-east-1_YQGmZ3d3H","userPoolWebClientId":"7ntajq8ii4nne0s2o55cvsqlfe"}}')},113:function(e,t,r){e.exports=r(189)},141:function(e,t,r){},142:function(e,t,r){},147:function(e,t,r){},148:function(e,t,r){},149:function(e,t,r){},150:function(e,t,r){},151:function(e,t,r){},164:function(e,t,r){},165:function(e,t,r){},166:function(e,t,r){},189:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r.n(a),s=r(96),o=r.n(s),c=r(66),i=r(36),u=r(11),l=r(3),m=r.n(l),p=r(5),f=r(7),h=r(8),d=r(6),v=r(14),b=r(13),k=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"setStatePromise",value:function(){var e=Object(p.a)(m.a.mark((function e(t,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.setState(r,(function(){e()}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"isEmpty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}}]),e}(),E=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"checkPasswords",value:function(){var e=Object(p.a)(m.a.mark((function e(t,r,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r===a){e.next=4;break}return e.next=3,t.setError("Your passwords don't match!");case 3:return e.abrupt("return",!1);case 4:if(!(r.length<6)){e.next=8;break}return e.next=7,t.setError("Your password is too short!");case 7:return e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}()}]),e}(),g=r(106),w=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"loadProfile",value:function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.currentAuthenticatedUser();case 3:e.profile=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}()},{key:"getProfile",value:function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.profile){t.next=3;break}return t.next=3,e.loadProfile();case 3:return t.abrupt("return",e.profile);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(p.a)(m.a.mark((function e(t,r,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.signUp({username:t,password:a,attributes:{email:r}});case 2:return n=e.sent,e.abrupt("return",n.codeDeliveryDetails.Destination);case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"verifyEmail",value:function(){var e=Object(p.a)(m.a.mark((function e(t,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.confirmSignUp(t,r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"resendVerificationEmail",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.resendSignUp(t);case 2:return r=e.sent,e.abrupt("return",r.CodeDeliveryDetails.Destination);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"forgotPassword",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.forgotPassword(t);case 2:return r=e.sent,e.abrupt("return",r.CodeDeliveryDetails.Destination);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(p.a)(m.a.mark((function e(t,r,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.forgotPasswordSubmit(t,r,a);case 2:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(p.a)(m.a.mark((function e(t,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.signIn(t,r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.signOut();case 2:e.profile=null;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getUsername",value:function(){var t=Object(p.a)(m.a.mark((function t(){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getProfile();case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return t.abrupt("return",r.username);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var t=Object(p.a)(m.a.mark((function t(){var r,a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getProfile();case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return a=r.getSignInUserSession(),n=a.getAccessToken(),t.abrupt("return",n.getJwtToken());case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),e}();w.profile=null;var y=w,x=Object.freeze({LOGIN:0,RECOVERY_USERNAME:1,RECOVERY_PASSWORD:2,RECOVERY_SUCCESS:3,REGISTER:4,REGISTER_VERIFY:5,REGISTER_SUCCESS:6}),O=(r(141),function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;Object(f.a)(this,r),a=t.call(this,e);var n=e.unverifiedAccountUsername?x.REGISTER_VERIFY:x.REGISTER;return a.state={error:"",success:"",username:e.unverifiedAccountUsername,destination:e.unverifiedAccountDestination,screen:n},a.close=a.close.bind(Object(d.a)(a)),a.register=a.register.bind(Object(d.a)(a)),a.verifyEmail=a.verifyEmail.bind(Object(d.a)(a)),a.resendVerificationEmail=a.resendVerificationEmail.bind(Object(d.a)(a)),a}return Object(h.a)(r,[{key:"close",value:function(){this.props.exitCallback()}},{key:"setError",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.startsWith("PreSignUp failed with error")&&(t=t.substring("PreSignUp failed with error".length,t.length-1)),e.next=3,k.setStatePromise(this,{error:"Error: ".concat(t),success:""});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSuccess",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{error:"",success:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a,n,s,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=t.target,a=r.username.value,n=r.email.value,s=r.password.value,o=r.confirmPassword.value,a&&n&&s&&o){e.next=10;break}return e.next=9,this.setError("Please fill out all of the fields.");case 9:return e.abrupt("return");case 10:if(!(a.length<3||a.length>20)){e.next=14;break}return e.next=13,this.setError("Your username must be between ".concat(3," ")+"and ".concat(20," characters!"));case 13:return e.abrupt("return");case 14:return e.next=16,E.checkPasswords(this,s,o);case 16:if(e.sent){e.next=19;break}return e.abrupt("return");case 19:return e.prev=19,e.next=22,y.register(a,n,s);case 22:c=e.sent,k.setStatePromise(this,{error:"",username:a,destination:c,screen:x.REGISTER_VERIFY}),e.next=30;break;case 26:return e.prev=26,e.t0=e.catch(19),e.next=30,this.setError(e.t0.message);case 30:case"end":return e.stop()}}),e,this,[[19,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"verifyEmail",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.code.value,e.prev=2,e.next=5,y.verifyEmail(this.state.username,r);case 5:k.setStatePromise(this,{error:"",success:"",screen:x.REGISTER_SUCCESS}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,this.setError(e.t0.message);case 12:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resendVerificationEmail",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.resendVerificationEmail(this.state.username);case 3:return e.next=5,this.setSuccess("Another email has been sent!");case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,this.setError(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=n.a.createElement("div",{className:"Register-form Module-popup"},this.state.error&&n.a.createElement("h2",null,this.state.error),n.a.createElement("h2",null,"Create an account!"),n.a.createElement("form",{className:"Askd-form",onSubmit:this.register},n.a.createElement("label",{htmlFor:"register-username"},"Username"),n.a.createElement("input",{autoComplete:"off",type:"text",name:"username",id:"register-username"}),n.a.createElement("label",{htmlFor:"register-email"},"Email"),n.a.createElement("input",{autoComplete:"off",type:"text",name:"email",id:"register-email"}),n.a.createElement("label",{htmlFor:"register-password"},"Password"),n.a.createElement("input",{autoComplete:"off",type:"password",name:"password",id:"register-password"}),n.a.createElement("label",{htmlFor:"register-confirm-password"},"Confirm password"),n.a.createElement("input",{autoComplete:"off",type:"password",name:"confirmPassword",id:"register-confirm-password"}),n.a.createElement("input",{className:"Askd-button Module-popup-last",type:"submit",value:"Register"}))),r=n.a.createElement("div",{className:"Register-form Module-popup"},this.state.error&&n.a.createElement("h2",null,this.state.error),this.state.success&&n.a.createElement("h2",null,this.state.success),n.a.createElement("h2",null,"Verify your email!"),n.a.createElement("p",null,"You should've received an email at ",this.state.destination," with a verification code. If it isn't convenient for you to verify your account now, you may do so later by logging in."),n.a.createElement("form",{className:"Askd-form",onSubmit:this.verifyEmail},n.a.createElement("label",{htmlFor:"verification-code"},"Verification code"),n.a.createElement("input",{autoComplete:"off",type:"text",name:"code",key:"verification-code",id:"verification-code"}),n.a.createElement("div",{onClick:this.resendVerificationEmail,className:"Askd-form-link"},"Didn't get the email? Click here to resend"),n.a.createElement("input",{className:"Askd-button Module-popup-last",type:"submit",value:"Submit"}))),a=n.a.createElement("div",{className:"Register-form Module-popup"},n.a.createElement("h2",null,"Verification success!"),n.a.createElement("p",{className:"Module-popup-last"},"Your email was successfully verified! Click the 'X' button in the top-right corner to return to the site, and you'll be able to login."));switch(this.state.screen){case x.REGISTER:e=t;break;case x.REGISTER_VERIFY:e=r;break;case x.REGISTER_SUCCESS:e=a}return n.a.createElement("div",{className:"Module-blocker"},n.a.createElement("button",{onClick:this.close,className:"Askd-form-close Askd-button Askd-button-circular"},"X"),e)}}]),r}(a.Component)),j=function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(f.a)(this,r),(a=t.call(this,e)).state={error:"",username:null,destination:null,screen:e.screen||x.LOGIN},a.close=a.close.bind(Object(d.a)(a)),a.login=a.login.bind(Object(d.a)(a)),a.enablePasswordRecovery=a.enablePasswordRecovery.bind(Object(d.a)(a)),a.forgotPassword=a.forgotPassword.bind(Object(d.a)(a)),a.resetPassword=a.resetPassword.bind(Object(d.a)(a)),a.resendVerificationEmail=a.resendVerificationEmail.bind(Object(d.a)(a)),a}return Object(h.a)(r,[{key:"close",value:function(){this.props.exitCallback(!1)}},{key:"setError",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{error:"Error: ".concat(t)});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSuccess",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{error:"",success:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=t.target,a=r.username.value,n=r.password.value,a&&n){e.next=7;break}return e.next=7,this.setError("Please fill out all of the fields.");case 7:return e.prev=7,e.prev=8,e.next=11,y.login(a,n);case 11:this.props.exitCallback(!0),e.next=25;break;case 14:if(e.prev=14,e.t0=e.catch(8),"UserNotConfirmedException"!==e.t0.code){e.next=24;break}return e.next=19,y.resendVerificationEmail(a);case 19:return s=e.sent,e.next=22,this.props.emailVerificationCallback(a,s);case 22:e.next=25;break;case 24:throw e.t0;case 25:e.next=31;break;case 27:return e.prev=27,e.t1=e.catch(7),e.next=31,this.setError(e.t1.message);case 31:case"end":return e.stop()}}),e,this,[[7,27],[8,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"enablePasswordRecovery",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{error:"",screen:x.RECOVERY_USERNAME});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"forgotPassword",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=t.target.username.value){e.next=5;break}return this.setError("Please input your username."),e.abrupt("return");case 5:return e.prev=5,e.next=8,y.forgotPassword(r);case 8:a=e.sent,k.setStatePromise(this,{error:"",username:r,destination:a,screen:x.RECOVERY_PASSWORD}),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,this.setError(e.t0.message);case 16:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=t.target,a=r.code.value,n=r.password.value,s=r.confirmPassword.value,a&&n&&s){e.next=8;break}return this.setError("Please fill out all of the fields."),e.abrupt("return");case 8:return e.next=10,E.checkPasswords(this,n,s);case 10:if(e.sent){e.next=13;break}return e.abrupt("return");case 13:return e.prev=13,e.next=16,y.resetPassword(this.state.username,a,n);case 16:return e.next=18,k.setStatePromise(this,{error:"",success:"",screen:x.RECOVERY_SUCCESS});case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(13),e.next=24,this.setError(e.t0.message);case 24:case"end":return e.stop()}}),e,this,[[13,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resendVerificationEmail",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.forgotPassword(this.state.username);case 3:return e.next=5,this.setSuccess("Another email has been sent!");case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,this.setError(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=n.a.createElement("div",{className:"Register-form Module-popup"},this.state.error&&n.a.createElement("h2",null,this.state.error),n.a.createElement("h2",null,"Login to your account!"),n.a.createElement("form",{className:"Askd-form",onSubmit:this.login},n.a.createElement("label",{htmlFor:"login-username"},"Username or email"),n.a.createElement("input",{autoComplete:"off",type:"text",name:"username",key:"login-username",id:"login-username"}),n.a.createElement("label",{htmlFor:"login-password"},"Password"),n.a.createElement("input",{autoComplete:"off",type:"password",name:"password",key:"login-password",id:"login-password"}),n.a.createElement("div",{onClick:this.enablePasswordRecovery,className:"Askd-form-link"},"Forgot your password?"),n.a.createElement("input",{className:"Askd-button Module-popup-last",type:"submit",value:"Login"}))),r=n.a.createElement("div",{className:"Register-form Module-popup"},this.state.error&&n.a.createElement("h2",null,this.state.error),n.a.createElement("h2",null,"Reset your password"),n.a.createElement("p",null,"Please provide your username or email, so that you can reset your password via an emailed confirmation code."),n.a.createElement("form",{className:"Askd-form",onSubmit:this.forgotPassword},n.a.createElement("label",{htmlFor:"reset-username"},"Username or email"),n.a.createElement("input",{autoComplete:"off",type:"text",name:"username",key:"reset-username",id:"reset-username"}),n.a.createElement("input",{className:"Askd-button Module-popup-last",type:"submit",value:"Submit"}))),a=n.a.createElement("div",{className:"Register-form Module-popup"},this.state.error&&n.a.createElement("h2",null,this.state.error),this.state.success&&n.a.createElement("h2",null,this.state.success),n.a.createElement("h2",null,"Reset your password"),n.a.createElement("p",null,"You should've received an email at ",this.state.destination," with a verification code."),n.a.createElement("form",{className:"Askd-form",onSubmit:this.resetPassword},n.a.createElement("label",{htmlFor:"reset-code"},"Code"),n.a.createElement("input",{autoComplete:"off",type:"text",name:"code",key:"reset-code",id:"reset-code"}),n.a.createElement("label",{htmlFor:"reset-password"},"Password"),n.a.createElement("input",{autoComplete:"off",type:"password",name:"password",key:"reset-password",id:"reset-password"}),n.a.createElement("label",{htmlFor:"reset-confirm-password"},"Confirm password"),n.a.createElement("input",{autoComplete:"off",type:"password",name:"confirmPassword",key:"reset-confirm-password",id:"reset-confirm-password"}),n.a.createElement("div",{onClick:this.resendVerificationEmail,className:"Askd-form-link"},"Didn't get the email? Click here to resend"),n.a.createElement("input",{className:"Askd-button Module-popup-last",type:"submit",value:"Submit"}))),s=n.a.createElement("div",{className:"Register-form Module-popup"},n.a.createElement("h2",null,"Password reset success!"),n.a.createElement("p",{className:"Module-popup-last"},"Your password has been reset successfully. You'll now be able to login again."));switch(this.state.screen){case x.LOGIN:e=t;break;case x.RECOVERY_USERNAME:e=r;break;case x.RECOVERY_PASSWORD:e=a;break;case x.RECOVERY_SUCCESS:e=s}return n.a.createElement("div",{className:"Module-blocker"},n.a.createElement("button",{onClick:this.close,className:"Askd-form-close Askd-button Askd-button-circular"},"X"),e)}}]),r}(a.Component),S=(r(142),function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(f.a)(this,r),(a=t.call(this,e)).logout=a.logout.bind(Object(d.a)(a)),a}return Object(h.a)(r,[{key:"logout",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.logout();case 2:return e.next=4,this.props.logoutCallback();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{className:"User-menu"},n.a.createElement("ol",null,n.a.createElement("li",null,n.a.createElement(i.b,{to:"/users/".concat(this.props.username)},"Your profile")),n.a.createElement("div",{className:"User-menu-divider"}),n.a.createElement("li",{className:"User-menu-not-link"},"Settings"),n.a.createElement("li",{className:"User-menu-not-link",onClick:this.logout},"Logout")))}}]),r}(a.Component)),P=function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(f.a)(this,r),(a=t.call(this,e)).state={username:null,showRegisterForm:!1,showLoginForm:!1,showUserMenu:!1,unverifiedAccountUsername:null,unverifiedAccountDestination:null},a.refreshUsername=a.refreshUsername.bind(Object(d.a)(a)),a.toggleRegisterForm=a.toggleRegisterForm.bind(Object(d.a)(a)),a.toggleLoginForm=a.toggleLoginForm.bind(Object(d.a)(a)),a.toggleUserMenu=a.toggleUserMenu.bind(Object(d.a)(a)),a.afterLogin=a.afterLogin.bind(Object(d.a)(a)),a.unverifiedAccount=a.unverifiedAccount.bind(Object(d.a)(a)),a}return Object(h.a)(r,[{key:"refreshUsername",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getUsername();case 2:return t=e.sent,e.next=5,k.setStatePromise(this,{username:t,showUserMenu:!1,unverifiedAccountUsername:null});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshUsername();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleRegisterForm",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.showRegisterForm){e.next=3;break}return e.next=3,k.setStatePromise(this,{unverifiedAccountUsername:null,unverifiedAccountDestination:null});case 3:return e.next=5,k.setStatePromise(this,{showRegisterForm:!this.state.showRegisterForm});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleLoginForm",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{showLoginForm:!this.state.showLoginForm});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleUserMenu",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.relatedTarget)||"A"!==r.nodeName){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,k.setStatePromise(this,{showUserMenu:!this.state.showUserMenu});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"afterLogin",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toggleLoginForm();case 2:if(!t){e.next=5;break}return e.next=5,this.refreshUsername();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unverifiedAccount",value:function(){var e=Object(p.a)(m.a.mark((function e(t,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{showLoginForm:!1,showRegisterForm:!0,unverifiedAccountUsername:t,unverifiedAccountDestination:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=n.a.createElement("div",{className:"Header-top-right"},n.a.createElement("span",{onClick:this.toggleLoginForm},"Login"),n.a.createElement("span",{className:"Header-divider"}),n.a.createElement("span",{onClick:this.toggleRegisterForm},"Create an account")),t=n.a.createElement("div",{className:"Header-logged-in",tabIndex:"-1",onBlur:this.toggleUserMenu},n.a.createElement("div",{className:"Header-top-right"},n.a.createElement("span",{onClick:this.toggleUserMenu},this.state.username)),n.a.createElement("div",{className:"Header-user-menu"},this.state.showUserMenu&&n.a.createElement(S,{username:this.state.username,logoutCallback:this.refreshUsername}))),r=this.state.username?t:e;return n.a.createElement(n.a.Fragment,null,this.state.showRegisterForm&&n.a.createElement(O,{exitCallback:this.toggleRegisterForm,unverifiedAccountUsername:this.state.unverifiedAccountUsername,unverifiedAccountDestination:this.state.unverifiedAccountDestination}),this.state.showLoginForm&&n.a.createElement(j,{exitCallback:this.afterLogin,emailVerificationCallback:this.unverifiedAccount}),r)}}]),r}(a.Component);r(147);var C=function(){return n.a.createElement("div",{className:"Header"},n.a.createElement("h1",null,"cp-notes beta"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(i.b,{to:"/home"},"Home"))),n.a.createElement(P,null),n.a.createElement("span",{className:"Header-bottom"}))},N=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"_updateStorage",value:function(){e.localStorage.setItem("askdfjlas.github.io",JSON.stringify(e.problems))}},{key:"getProblems",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=0;a<1e4;a++)r.push({sk:""+Math.random(),code:""+Math.random(),title:""+Math.random()});return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addProblem",value:function(t){var r=""+(new Date).getTime();return e.problems[r]=t,e._updateStorage(),r}}]),e}();N.localStorage=window.localStorage,N.problems=JSON.parse(N.localStorage.getItem("askdfjlas.github.io"))||{};var R=N,F=(r(148),["Cp-unsolved","Cp-solved","Cp-solved-help"]),A=function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(f.a)(this,r),(a=t.call(this,e)).state={showNotes:!1},a.toggleNotes=a.toggleNotes.bind(Object(d.a)(a)),a}return Object(h.a)(r,[{key:"toggleNotes",value:function(){k.setStatePromise(this,{showNotes:!this.state.showNotes})}},{key:"render",value:function(){var e=this.props.problem,t=this.state.showNotes?"hide":"show";return n.a.createElement("div",{className:"Cp-problem ".concat(F[e.solved])},n.a.createElement("h4",null,"".concat(e.platform," ").concat(e.code," - ").concat(e.title)),n.a.createElement("p",null,"Problem link: ",n.a.createElement("a",{href:e.link},e.link)),n.a.createElement("p",{className:"Cp-problem-toggle",onClick:this.toggleNotes},"Notes (",t,")"),n.a.createElement("p",{className:"Cp-problem-notes-".concat(t)},e.notes||"Nothing written here yet!"))}}]),r}(a.Component),U=r(48),M=(r(149),function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(f.a)(this,r),(a=t.call(this,e)).state={searchTerm:"",previousValidSearchTerm:"",showOptions:!0,options:[],filteredOptions:[]},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleBlur=a.handleBlur.bind(Object(d.a)(a)),a.handleFocus=a.handleFocus.bind(Object(d.a)(a)),a.handleOptionSelect=a.handleOptionSelect.bind(Object(d.a)(a)),a}return Object(h.a)(r,[{key:"getOptionString",value:function(e){var t,r=[],a=Object(U.a)(this.props.keys);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.push(e[n])}}catch(s){a.e(s)}finally{a.f()}return r.join(" - ")}},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.searchKey&&this.props.searchKey!==t.searchKey){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.props.search(this.props.searchKey);case 4:return r=e.sent,e.next=7,k.setStatePromise(this,{options:r,filteredOptions:[]});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a,n,s,o,c,i,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.value.toLowerCase(),a=[],n=Object(U.a)(this.state.options),e.prev=3,n.s();case 5:if((s=n.n()).done){e.next=33;break}if(o=s.value,10!==a.length){e.next=9;break}return e.abrupt("break",33);case 9:if(!this.getOptionString(o).toLowerCase().startsWith(r)){e.next=13;break}return a.push(o),e.abrupt("continue",31);case 13:c=Object(U.a)(this.props.keys),e.prev=14,c.s();case 16:if((i=c.n()).done){e.next=23;break}if(u=i.value,!o[u].toLowerCase().startsWith(r)){e.next=21;break}return a.push(o),e.abrupt("break",23);case 21:e.next=16;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(14),c.e(e.t0);case 28:return e.prev=28,c.f(),e.finish(28);case 31:e.next=5;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(3),n.e(e.t1);case 38:return e.prev=38,n.f(),e.finish(38);case 41:return e.next=43,k.setStatePromise(this,{searchTerm:r,filteredOptions:a});case 43:case"end":return e.stop()}}),e,this,[[3,35,38,41],[14,25,28,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleBlur",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.relatedTarget)||r.id!=="Select-options-".concat(this.props.name)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,k.setStatePromise(this,{showOptions:!1,searchTerm:this.state.previousValidSearchTerm,filteredOptions:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleFocus",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{showOptions:!0});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleOptionSelect",value:function(){var e=Object(p.a)(m.a.mark((function e(t,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{searchTerm:r,previousValidSearchTerm:r,showOptions:!1,filteredOptions:[]});case 2:this.props.callback(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,r=[],a=Object(U.a)(this.state.filteredOptions);try{var s=function(){var a=e.value,s=t.getOptionString(a),o=a.sk;r.push(n.a.createElement("li",{onClick:function(){return t.handleOptionSelect(o,s)},key:o},s))};for(a.s();!(e=a.n()).done;)s()}catch(o){a.e(o)}finally{a.f()}return n.a.createElement("div",{onBlur:this.handleBlur,className:"Search-select"},n.a.createElement("input",{onChange:this.handleChange,autoComplete:"off",type:"text",value:this.state.searchTerm,onFocus:this.handleFocus,name:this.props.name,id:this.props.id,disabled:!this.props.searchKey}),r.length>0&&this.state.showOptions&&n.a.createElement("ol",{id:"Select-options-".concat(this.props.name),tabIndex:"-1",className:"Search-select-options"},r))}}]),r}(a.Component)),D=(r(150),function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(f.a)(this,r),(a=t.call(this,e)).state={platform:null,problemSortKey:null},a.close=a.close.bind(Object(d.a)(a)),a.handlePlatformChange=a.handlePlatformChange.bind(Object(d.a)(a)),a.updateProblemSortKey=a.updateProblemSortKey.bind(Object(d.a)(a)),a.addProblem=a.addProblem.bind(Object(d.a)(a)),a}return Object(h.a)(r,[{key:"close",value:function(){this.props.callback(null)}},{key:"handlePlatformChange",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{platform:t.target.value});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateProblemSortKey",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{problemSortKey:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addProblem",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target,a={title:r.title.value,platform:r.platform.value,link:r.link.value,code:r.code.value,solved:r.solved.value,notes:r.notes.value,sortKey:this.state.problemSortKey},e.next=5,this.props.callback(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=!this.state.platform;return n.a.createElement("div",{className:"Module-blocker"},n.a.createElement("button",{onClick:this.close,className:"Askd-form-close Askd-button Askd-button-circular"},"X"),n.a.createElement("div",{className:"Cp-form Module-popup"},n.a.createElement("form",{className:"Askd-form",onSubmit:this.addProblem},n.a.createElement("label",{htmlFor:"cp-platform"},"Platform"),n.a.createElement("select",{defaultValue:"",onChange:this.handlePlatformChange,name:"platform",id:"cp-platform"},n.a.createElement("option",{disabled:!0,value:""}),n.a.createElement("option",{value:"CodeForces"},"CodeForces"),n.a.createElement("option",{value:"CodeChef"},"CodeChef")),n.a.createElement("label",{htmlFor:"cp-title"},"Problem title"),n.a.createElement(M,{name:"title",id:"cp-title",search:R.getProblems,searchKey:this.state.platform,keys:["code","title"],callback:this.updateProblemSortKey}),n.a.createElement("label",{htmlFor:"cp-link"},"Problem link"),n.a.createElement("div",{className:"Askd-form-inline"},n.a.createElement("span",null,"https://"),n.a.createElement("input",{autoComplete:"off",type:"text",name:"link",id:"cp-link",disabled:e})),n.a.createElement("label",{htmlFor:"cp-code"},"Problem code (e.g. 1401E)"),n.a.createElement("input",{autoComplete:"off",type:"text",name:"code",id:"cp-code",disabled:e}),n.a.createElement("label",{htmlFor:"cp-solved"},"Solved?"),n.a.createElement("select",{name:"solved",id:"cp-solved",disabled:e},n.a.createElement("option",{value:"0"},"Unsolved"),n.a.createElement("option",{value:"1"},"Solved"),n.a.createElement("option",{value:"2"},"Solved with help")),n.a.createElement("label",{htmlFor:"cp-math-notes"},"Notes"),n.a.createElement("textarea",{autoComplete:"off",name:"notes",id:"cp-math-notes",disabled:e}),n.a.createElement("input",{className:"Askd-button Module-popup-last",type:"submit",value:"Add"}))))}}]),r}(a.Component)),I=(r(151),function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(f.a)(this,r),(a=t.call(this,e)).state={problems:R.getProblems(),showForm:!1},a.toggleForm=a.toggleForm.bind(Object(d.a)(a)),a.addProblem=a.addProblem.bind(Object(d.a)(a)),a}return Object(h.a)(r,[{key:"toggleForm",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.setStatePromise(this,{showForm:!this.state.showForm});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addProblem",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.toggleForm(),t){e.next=3;break}return e.abrupt("return");case 3:return r=R.addProblem(t),(a=this.state.problems)[r]=t,e.next=8,k.setStatePromise(this,{problems:a});case 8:return e.next=10,window.MathJax.typesetPromise();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[];for(var t in this.state.problems)e.push(n.a.createElement(A,{key:t,problem:this.state.problems[t]}));return n.a.createElement("div",{className:"Module-wrapper"},n.a.createElement("div",{className:"Module-description"},n.a.createElement("h2",null,"Competitive Programming Notes"),n.a.createElement("p",null,"It's difficult to keep track of unsolved problems in competitive programming. Personally, I've always tried to maintain a mental queue of these problems in my head, only to later forget about them. This small tool allows you to have this list in your browser's localstorage, and also supports note-taking. Math rendering is done using MathJax! For example, typing \\\\(x \\geq 4\\\\) will produce the following: \\(x \\geq 4\\)")),n.a.createElement("div",{className:"Cp-notes Module-space"},k.isEmpty(this.state.problems)?n.a.createElement("p",{className:"Cp-notes-none"},"It looks like you haven't added any problems yet. Click the '+' button in the bottom-right to add one."):e,this.state.showForm&&n.a.createElement(D,{callback:this.addProblem}),n.a.createElement("button",{onClick:this.toggleForm,className:"Cp-notes-add Askd-button Askd-button-circular"},"+")))}}]),r}(a.Component));var V=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(C,null),n.a.createElement(I,null))};var T=function(e){var t=e.info;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,t.username),t.email&&n.a.createElement("p",null,"Email: ",t.email," (only visible to you)"))},L=r(101),_=r.n(L),Y=Object.freeze({API_ENDPOINT:"https://qqmeusmrfk.execute-api.us-east-1.amazonaws.com/prod/"}),G=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"getJson",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getAccessToken();case 2:return r=e.sent,e.next=5,fetch(Y.API_ENDPOINT+t,{headers:{Authorization:r}});case 5:if(400!==(a=e.sent).status){e.next=15;break}return e.next=9,a.json();case 9:throw n=e.sent,(s=Error(n.message)).name=n.name,s;case 15:if(200===a.status){e.next=17;break}throw Error("Request failed!");case 17:return e.next=19,a.json();case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),K=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"getUserInfo",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t},a="profile?".concat(_.a.stringify(r)),e.next=4,G.getJson(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),J=Object.freeze({LOADING:0,DONE:1,NOT_FOUND:2}),H=function(e){Object(v.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(f.a)(this,r),(a=t.call(this,e)).state={screen:J.LOADING,info:null},a}return Object(h.a)(r,[{key:"loadUserInfo",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.username,e.next=4,K.getUserInfo(t);case 4:return r=e.sent,e.next=7,k.setStatePromise(this,{screen:J.DONE,info:r});case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),"UserNotFound"!==e.t0.name){e.next=14;break}return e.next=14,k.setStatePromise(this,{screen:J.NOT_FOUND});case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadUserInfo();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.match.params.username===this.props.match.params.username){e.next=5;break}return e.next=3,k.setStatePromise(this,{screen:J.LOADING,info:null});case 3:return e.next=5,this.loadUserInfo();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"Module-description"},n.a.createElement(T,{info:this.state.info})),n.a.createElement("div",{className:"Module-space"})),r=n.a.createElement("div",{className:"Module-description"},n.a.createElement("h2",null,"User not found!"));switch(this.state.screen){case J.LOADING:e=null;break;case J.DONE:e=t;break;case J.NOT_FOUND:e=r}return n.a.createElement(n.a.Fragment,null,n.a.createElement(C,null),n.a.createElement("div",{className:"Module-wrapper"},e))}}]),r}(a.Component);r(164),r(165),r(166);var W=function(){return n.a.createElement(i.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(u.c,null,n.a.createElement(u.a,{exact:!0,path:"/",component:V}),n.a.createElement(u.a,{exact:!0,path:"/home",component:V}),n.a.createElement(u.a,{exact:!0,path:"/users/:username",component:H}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=r(102);c.default.configure(q),o.a.render(n.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[113,1,2]]]);
//# sourceMappingURL=main.9a432fbb.chunk.js.map